/*! For license information please see pollev-live-response.8b6292fe29064fc791b7.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[285,7],{1034:function(e,t,n){"use strict";(function(e){var t,r,i,o,s,a,c=n(16),l=n(448),u=n(5),f=n(46),p=n(57),d=n(101);n(1057),n(339);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=R(e);if(t){var i=R(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return g(this,n)}}function g(e,t){if(t&&("object"===h(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return w(e)}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(){k=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){["method","field"].forEach((function(n){t.forEach((function(t){t.kind===n&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var n=e.prototype;["method","field"].forEach((function(r){t.forEach((function(t){var i=t.placement;if(t.kind===r&&("static"===i||"prototype"===i)){var o="static"===i?e:n;this.defineClassElement(o,t)}}),this)}),this)},defineClassElement:function(e,t){var n=t.descriptor;if("field"===t.kind){var r=t.initializer;n={enumerable:n.enumerable,writable:n.writable,configurable:n.configurable,value:void 0===r?void 0:r.call(e)}}Object.defineProperty(e,t.key,n)},decorateClass:function(e,t){var n=[],r=[],i={static:[],prototype:[],own:[]};if(e.forEach((function(e){this.addElementPlacement(e,i)}),this),e.forEach((function(e){if(!j(e))return n.push(e);var t=this.decorateElement(e,i);n.push(t.element),n.push.apply(n,t.extras),r.push.apply(r,t.finishers)}),this),!t)return{elements:n,finishers:r};var o=this.decorateConstructor(n,t);return r.push.apply(r,o.finishers),o.finishers=r,o},addElementPlacement:function(e,t,n){var r=t[e.placement];if(!n&&-1!==r.indexOf(e.key))throw new TypeError("Duplicated element ("+e.key+")");r.push(e.key)},decorateElement:function(e,t){for(var n=[],r=[],i=e.decorators,o=i.length-1;o>=0;o--){var s=t[e.placement];s.splice(s.indexOf(e.key),1);var a=this.fromElementDescriptor(e),c=this.toElementFinisherExtras((0,i[o])(a)||a);e=c.element,this.addElementPlacement(e,t),c.finisher&&r.push(c.finisher);var l=c.extras;if(l){for(var u=0;u<l.length;u++)this.addElementPlacement(l[u],t);n.push.apply(n,l)}}return{element:e,finishers:r,extras:n}},decorateConstructor:function(e,t){for(var n=[],r=t.length-1;r>=0;r--){var i=this.fromClassDescriptor(e),o=this.toClassDescriptor((0,t[r])(i)||i);if(void 0!==o.finisher&&n.push(o.finisher),void 0!==o.elements){e=o.elements;for(var s=0;s<e.length-1;s++)for(var a=s+1;a<e.length;a++)if(e[s].key===e[a].key&&e[s].placement===e[a].placement)throw new TypeError("Duplicated element ("+e[s].key+")")}}return{elements:e,finishers:n}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return Object.defineProperty(t,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return(t=e,function(e){if(Array.isArray(e))return e}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?T(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map((function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var n=S(e.key),r=String(e.placement);if("static"!==r&&"prototype"!==r&&"own"!==r)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+r+'"');var i=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var o={kind:t,key:n,placement:r,descriptor:Object.assign({},i)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(i,"get","The property descriptor of a field descriptor"),this.disallowProperty(i,"set","The property descriptor of a field descriptor"),this.disallowProperty(i,"value","The property descriptor of a field descriptor"),o.initializer=e.initializer),o},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:P(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:e.map(this.fromElementDescriptor,this)};return Object.defineProperty(t,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var n=P(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:n}},runClassFinishers:function(e,t){for(var n=0;n<t.length;n++){var r=(0,t[n])(e);if(void 0!==r){if("function"!=typeof r)throw new TypeError("Finishers must return a constructor.");e=r}}return e},disallowProperty:function(e,t,n){if(void 0!==e[t])throw new TypeError(n+" can't have a ."+t+" property.")}};return e}function O(e){var t,n=S(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var r={kind:"field"===e.kind?"field":"method",key:n,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(r.decorators=e.decorators),"field"===e.kind&&(r.initializer=e.value),r}function _(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function j(e){return e.decorators&&e.decorators.length}function E(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function P(e,t){var n=e[t];if(void 0!==n&&"function"!=typeof n)throw new TypeError("Expected '"+t+"' to be a function");return n}function S(e){var t=function(e,t){if("object"!==h(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==h(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===h(t)?t:String(t)}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function x(e,t,n){return(x="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=R(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var C=function(e,t,n,r){var i=k();if(r)for(var o=0;o<r.length;o++)i=r[o](i);var s=t((function(e){i.initializeInstanceElements(e,a.elements)}),n),a=i.decorateClass(function(e){for(var t=[],n=function(e){return"method"===e.kind&&e.key===o.key&&e.placement===o.placement},r=0;r<e.length;r++){var i,o=e[r];if("method"===o.kind&&(i=t.find(n)))if(E(o.descriptor)||E(i.descriptor)){if(j(o)||j(i))throw new ReferenceError("Duplicated methods ("+o.key+") can't be decorated.");i.descriptor=o.descriptor}else{if(j(o)){if(j(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+o.key+").");i.decorators=o.decorators}_(o,i)}else t.push(o)}return t}(s.d.map(O)),e);return i.initializeClassElements(s.F,a.elements),i.runClassFinishers(s.F,a.finishers)}(null,(function(e,n){var r=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(r,t);var n=b(r);function r(){var t;y(this,r);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return t=n.call.apply(n,[this].concat(o)),e(w(t)),t}return r}(n);return{F:r,d:[{kind:"get",static:!0,key:"tagName",value:function(){return"pe-text-field"}},{kind:"field",decorators:[Object(c.d)({type:String})],key:"autocapitalize",value:void 0},{kind:"field",decorators:[Object(c.d)({type:String})],key:"autocomplete",value:void 0},{kind:"field",decorators:[Object(c.d)({type:String})],key:"autocorrect",value:void 0},{kind:"field",decorators:[Object(c.d)({type:Boolean,attribute:"char-counter"})],key:"charCounter",value:void 0},{kind:"field",decorators:[Object(c.d)({type:Number})],key:"cols",value:void 0},{kind:"field",decorators:[Object(c.d)({type:Boolean})],key:"disabled",value:void 0},{kind:"field",decorators:[Object(c.d)({type:String})],key:"error",value:void 0},{kind:"field",decorators:[Object(c.d)({type:String})],key:"helper",value:void 0},{kind:"field",decorators:[Object(c.d)({type:String})],key:"icon",value:void 0},{kind:"field",decorators:[Object(c.d)({type:String,attribute:"icon-trailing"})],key:"iconTrailing",value:void 0},{kind:"field",decorators:[Object(c.d)({type:Number})],key:"max",value:void 0},{kind:"field",decorators:[Object(c.d)({type:Number})],key:"maxLength",value:void 0},{kind:"field",decorators:[Object(c.d)({type:Number})],key:"min",value:void 0},{kind:"field",decorators:[Object(c.d)({type:Number})],key:"minLength",value:void 0},{kind:"field",decorators:[Object(c.d)({type:String})],key:"name",value:void 0},{kind:"field",decorators:[Object(c.d)({type:String})],key:"pattern",value:void 0},{kind:"field",decorators:[Object(c.d)({type:String})],key:"placeholder",value:void 0},{kind:"field",decorators:[Object(c.d)({type:Boolean})],key:"readonly",value:void 0},{kind:"field",decorators:[Object(c.d)({type:Boolean})],key:"required",value:void 0},{kind:"field",decorators:[Object(c.d)({type:Number})],key:"rows",value:void 0},{kind:"field",decorators:[Object(c.d)({type:Boolean})],key:"sanitize",value:void 0},{kind:"field",decorators:[Object(c.d)({type:String})],key:"spellcheck",value:void 0},{kind:"field",decorators:[Object(c.d)({type:String})],key:"type",value:void 0},{kind:"field",decorators:[Object(c.d)({type:String})],key:"value",value:void 0},{kind:"field",decorators:[Object(c.d)({type:Boolean,attribute:"use-default-placeholder",reflect:!0})],key:"useDefaultPlaceholder",value:void 0},{kind:"get",key:"active",value:function(){var e=this.field;return e?!!e.value.length||this.focused:!!this.getAttribute("value")}},{kind:"get",key:"field",value:function(){return this.querySelector("input")||this.querySelector("textarea")}},{kind:"get",key:"focused",value:function(){return document.hasFocus()&&document.activeElement===this.field}},{kind:"get",key:"valid",value:function(){var e=this.field,t=e.disabled;e.disabled=!1;var n=e.validity.valid&&!this.error;return e.disabled=t,n}},{kind:"get",key:"value",value:function(){var e=this.field,t=e?e.value:this.getAttribute("value")||"";return this.sanitize?Object(u.cleanString)(t):t}},{kind:"set",key:"value",value:function(e){var t=this.field;t&&(t.value=e,this.requestUpdate())}},{kind:"method",key:"connectedCallback",value:function(){x(R(r.prototype),"connectedCallback",this).call(this),Object(d.a)(this,"before"),Object(d.a)(this,"after")}},{kind:"method",key:"createRenderRoot",value:function(){return this}},{kind:"method",key:"render",value:function(){var e={counter:this.charCounter,disabled:this.disabled,error:!!this.error,focused:this.focused,helper:!!this.helper||!!this.error,multiline:"textarea"===this.type};return Object(c.b)(t||(t=m(["\n    <div class=",">\n      <label class=","\n          @mousedown=",">\n        ","\n        ","\n        ","\n        ","\n        ","\n        <span class=","></span>\n        ","\n      </label>\n      <div class=",">\n        <span class=","\n            role=",">\n          ","\n        </span>\n        ","\n      </div>\n    </div>\n    "])),F("wrapper",e),F("input-row",{active:this.active}),M,this.slots("before"),I.call(this),"textarea"===this.type?A.call(this):D.call(this),I.call(this,!0),$.call(this),F("line"),this.slots("after"),F("helper-row"),F("helper"),Object(l.a)(this.error?"alert":void 0),this.error||this.helper,B.call(this))}},{kind:"method",key:"focus",value:function(){var e=this;this.updateComplete.then((function(){return e.field.focus()}))}},{kind:"method",key:"select",value:function(){var e=this;this.updateComplete.then((function(){return e.field.select()}))}},{kind:"method",key:"validate",value:function(){var e=this.field,t=e.validity,n=Object(u.capitalize)(e.name.replace(/(.+\[([^\]]+)\])/,"$2").replace(/[_-]/g," ")||"text field");return t.valueMissing?e.setCustomValidity("".concat(n," must have a value.")):t.tooLong?e.setCustomValidity("".concat(n," must have ").concat(e.maxLength," characters or less.")):t.tooShort?e.setCustomValidity("".concat(n," must have at least ").concat(e.minLength," characters.")):t.typeMismatch?e.setCustomValidity("".concat(n," must be a valid ").concat(function(e){switch(e){case"url":return e.toUpperCase();case"email":return"email address";default:return e}}(e.type),".")):t.patternMismatch?e.setCustomValidity("".concat(n," must match the requested format.")):e.setCustomValidity(""),e.validationMessage?this.error=e.validationMessage:this.error="",this.requestUpdate(),this.valid}}]}}),c.a);function $(){if(!this.useDefaultPlaceholder&&this.placeholder)return Object(c.b)(r||(r=m(["\n  <span class=",">\n    ","\n  </span>\n  "])),F("placeholder"),this.placeholder)}function A(){return Object(c.b)(i||(i=m(["<textarea class=","\n    aria-label=","\n    autocapitalize=","\n    autocomplete=","\n    autocorrect=","\n    cols=","\n    ?disabled=","\n    maxLength=","\n    minLength=","\n    name=","\n    placeholder=","\n    ?readonly=","\n    ?required=","\n    rows=","\n    spellcheck=","\n    @blur=","\n    @focus=","\n    @input=","\n    @mousedown=","\n  >","</textarea>"])),F("textarea"),Object(l.a)(this.placeholder||void 0),Object(l.a)(this.autocapitalize),Object(l.a)(this.autocomplete),Object(l.a)(this.autocorrect),Object(l.a)(L(this.cols)),this.disabled,Object(l.a)(L(this.maxLength)),Object(l.a)(L(this.minLength)),Object(l.a)(this.name),Object(l.a)(this.placeholder||void 0),this.readonly,this.required,Object(l.a)(L(this.rows)),Object(l.a)(this.spellcheck),z,z,z,N,this.sanitize?Object(u.cleanString)(this.value):this.value)}function D(){return Object(c.b)(o||(o=m(["<input class=","\n    aria-label=","\n    autocapitalize=","\n    autocomplete=","\n    autocorrect=","\n    ?disabled=","\n    max=","\n    maxLength=","\n    min=","\n    minLength=","\n    name=","\n    pattern=","\n    placeholder=","\n    ?readonly=","\n    ?required=","\n    spellcheck=","\n    type=","\n    .value=","\n    @blur=","\n    @focus=","\n    @input=","\n    @mousedown=","\n  />"])),F("input"),Object(l.a)(this.placeholder||void 0),Object(l.a)(this.autocapitalize),Object(l.a)(this.autocomplete),Object(l.a)(this.autocorrect),this.disabled,Object(l.a)(L(this.max)),Object(l.a)(L(this.maxLength)),Object(l.a)(L(this.min)),Object(l.a)(L(this.minLength)),Object(l.a)(this.name),Object(l.a)(this.pattern||void 0),Object(l.a)(this.placeholder||void 0),this.readonly,this.required,Object(l.a)(this.spellcheck),Object(l.a)(this.type),this.sanitize?Object(u.cleanString)(this.value):this.value,z,z,z,N)}function N(e){e.stopPropagation()}function z(){this.requestUpdate()}function I(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=e?this.iconTrailing:this.icon;if(t&&"textarea"!==this.type)return Object(c.b)(s||(s=m(["<pe-graphic\n    class=","\n    name=","\n    type='icon'\n  ></pe-graphic>"])),F("icon",{trailing:e}),t)}function B(){if(this.maxLength>0){var e=this.field,t=e?e.value:this.getAttribute("value")||"",n=this.charCounter?"".concat(t.length," / ").concat(this.maxLength):"";return Object(c.b)(a||(a=m(["<span class=",">","</span>"])),F("counter"),n)}}function M(e){e.preventDefault();var t=this.field;document.activeElement!==t&&"textarea"!==this.type&&t.select(),t.focus()}function L(e){return"number"==typeof e?e:void 0}var F=Object(p.a)(C.tagName);Object(f.a)(e,C.tagName,C)}).call(this,n(87)(e))},1036:function(e,t,n){"use strict";n.d(t,"a",(function(){return S}));var r=n(0),i=n(1),o=n.n(i),s=n(5);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var i=d(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var h=function(e){return e.collection.some((function(e){return e.has("isPending")}))},m=function(e){var t=e.model.isStarted()||e.model.isMaxedOut();return e.model.isWebEnabled()&&t&&e.model.get("editable_answers")&&e.collection.length>0&&!h(e)};function y(e){return e.collection.length}var v=function(e){return e.model.remainingVotes(y(e))},b=function(e){var t=e.model.isStarted()||e.model.isMaxedOut()&&E(e);return e.model.isWebEnabled()&&t&&w(e)&&!h(e)},g=function(e){return e.model.isWebEnabled()&&e.model.isStarted()},w=function(e){var t=e.model.get("max_votes");return!t||y(e)<t},k=function(e){return e.model.isWebEnabled()?e.model.isStopped()?"<span></span>This poll is locked.":e.model.isMaxedOut()&&!E(e)?"Poll is full. This poll has received the maximum number of responses allowed.":void 0:"Web Voting has not been turned on for this poll."},O=function(e){var t=y(e),n=e.model.get("max_votes")||0;if(n&&t>=n)return 1===n?"Response recorded":"You have responded the maximum number of times to this poll";if("ranking_poll"===e.model.type())return e.get("selected")?"Use the up and down arrows to move. Don't forget to submit":"Tap an answer you want to move, then submit your response";if(1===n)return"You can respond once";var r="multiple_choice_poll"===e.model.type()?function(e){var t=e.get("responses_per_option")||(e.get("type_options")||{}).responses_per_option||0;if(t){var n=1===t?"once":"".concat(t," times");return". Each option may only be selected ".concat(n,".")}return""}(e.model):"";return function(){if(0===t)return n?"You can respond ".concat(n," times"):"You have not responded";if(n){var r=v(e),i=Object(s.pluralize)(r,"response");return"You have ".concat(r," ").concat(i," remaining")}var o=1===t?"once":"".concat(t," times");return"You have responded ".concat(o)}()+r},_=function(e){if(0===e.model.get("results_count")&&e.model.previous("results_count")>0)return e.collection.set([])},j=function(e,t){"competition"!==e.model.type()&&e.model.set({results_count:e.model.get("results_count")+t.length})},E=function(e){var t=e.options.registrationInfo;return!!t&&(t.get("requires_paid_participation")&&t.isExistingParticipant()&&!t.needsToPay())},P=function(e){"competition"!==e.model.type()&&(e.model.isNew()&&!e.options.disableSkeleton||e.set({responseCount:y(e),votesRemaining:v(e),enabled:b(e),statusMessage:k(e)||O(e),undoable:m(e),upDownVoteable:g(e)}))},S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(s,e);var t,n,i,o=f(s);function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return c(this,s),t.model=e,o.call(this,null,t)}return t=s,(n=[{key:"defaults",get:function(){return{votesRemaining:0,enabled:!1,responseCount:0,statusMessage:"",undoable:!1}}},{key:"initialize",value:function(e,t){this.model=t.model,this.options=t,this.collection=this.options.collection||this.model.results;var n=r.default.partial(P,this);this.listenTo(this.model,"change",n),this.listenTo(this.model,"change:results_count",r.default.partial(_,this)),this.listenTo(this.collection,"update",n),this.listenTo(this.collection,"update",r.default.partial(j,this)),this.listenTo(this.collection,"change:id",n),this.listenTo(this.collection,"change:isPending",n),this.on("change:selected",n),n()}}])&&l(t.prototype,n),i&&l(t,i),s}(o.a.Model)},1045:function(e,t,n){"use strict";n.d(t,"a",(function(){return _}));var r=n(0),i=n(1),o=n.n(i),s=n(102),a=n(1022),c=n(1111),l=n.n(c);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var i=y(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return m(this,n)}}function m(e,t){if(t&&("object"===u(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var v={multiple_choice_poll:"a Multiple choice activity. Select from the options below to respond.",free_text_poll:"an Open-ended activity. Type and submit your response below.",discourse:"a Q & A activity. Type and submit your response below.",clickable_image:"a Clickable image activity. Click on your chosen area on the image below to respond.",ranking_poll:"a Ranking activity. Order the response options below to respond.",survey:"a Survey, consisting of multiple activities.",competition:"a Competition consisting of multiple choice activities which you can respond to as the competition progresses."};var b=function(e){var t=e.state.get("statusMessage");e.statusUpdated||(e.statusUpdated=!0,e.$status.attr("aria-live","polite")),e.$status.html(t).toggle(t.length>0&&!e.options.hideStatus)},g=function(e){var t,n=e.model.get("anonymous");t=e.model.get("anonymous")?"<span></span>This question is anonymous. No names will be tracked.":"",e.$anonymous.toggle(n).html(t)},w=function(e){e.$_toggleModifier(null,e.className,"title-hidden",!!e.model.get("title_hidden"))},k=function(e){var t,n,r=["strong","em","br"];e.model.get("title_hidden")?(t="Activity title hidden",e.$title.html(t)):s.a.isLatex(e.model.get("title"))?(t=e.model.get("title"),e.$title.empty(),s.a.renderInto(e.$title,t,{cleanWhitelist:r})):(t=e.model.cleanTitle({emoji:"image",whitelist:r}),e.$title.html(t)),e.$ariaDescription.text("This is a ".concat((n=e.model.type(),v[n]||n)))},O=function(e){e.model.collection?e.$title.attr("data-index",e.model.collection.indexOf(e.model)+1):e.$title.removeAttr("data-index")},_=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(c,e);var t,n,i,s=h(c);function c(){return f(this,c),s.apply(this,arguments)}return t=c,(n=[{key:"className",get:function(){return"component-response-header"}},{key:"template",get:function(){return l.a}},{key:"attributes",get:function(){return{tabindex:-1}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options=r.default.defaults(e,{state:new o.a.Model({statusMessage:""}),disableSkeleton:!1}),r.default.extend(this,Object(a.a)(this)),this.state=this.options.state,this.listenTo(this.model,"change:title",(function(){k(this)})),this.listenTo(this.model,"change:survey_id",(function(){k(this)})),this.listenTo(this.model,"change:anonymous",(function(){g(this)})),this.listenTo(this.model,"change:title_hidden",(function(){k(this)})),this.listenTo(this.model,"change:title_hidden",(function(){w(this)})),this.listenTo(this.state,"change:statusMessage",(function(){b(this)})),this.model.collection&&(this.listenTo(this.model.collection,"update",(function(){O(this)})),this.listenTo(this.model.collection,"sort",(function(){O(this)})))}},{key:"render",value:function(){this.$el.html(this.template),this.$title=this.$_element("title"),this.$anonymous=this.$_element("anonymous"),this.$status=this.$_element("status");var e=r.default.uniqueId("response-header");return this.$ariaDescription=this.$_element("aria-desc").prop("id",e),this.$title.attr("aria-describedby",e),this.options.titleId&&this.$title.prop("id",this.options.titleId),this.model.isNew()&&!this.options.disableSkeleton||(k(this),g(this),b(this),w(this)),O(this),this}}])&&p(t.prototype,n),i&&p(t,i),c}(o.a.View)},1056:function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var i=u(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l(this,n)}}function l(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e){return function(t){return function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(p,t);var n,r,l,f=c(p);function p(){return i(this,p),f.apply(this,arguments)}return n=p,(r=[{key:"initialize",value:function(t){var n=this;s(u(p.prototype),"initialize",this).call(this,t),this._unsubscribe=e.subscribe((function(){return n.stateChanged(e.getState())})),this.stateChanged(e.getState())}},{key:"remove",value:function(){this._unsubscribe(),this._unsubscribe=void 0,s(u(p.prototype),"remove",this).call(this)}},{key:"stateChanged",value:function(e){}}])&&o(n.prototype,r),l&&o(n,l),p}(t)}}n.d(t,"a",(function(){return f}))},1057:function(e,t,n){},1069:function(e,t,n){"use strict";n.d(t,"a",(function(){return L}));var r=n(0),i=n(17),o=n.n(i),s=n(1),a=n.n(s),c=n(1036);function l(){var e=(window.__last_aria||(window.__last_aria=1))+1;return window.__last_aria=e,"aria-id-".concat(e)}var u=n(1045),f=n(1026),p=n(1022),d=n(5);n(339);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w(e);if(t){var i=w(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return g(this,n)}}function g(e,t){if(t&&("object"===h(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(s,e);var t,n,i,o=b(s);function s(){return m(this,s),o.apply(this,arguments)}return t=s,(n=[{key:"className",get:function(){return"component-response-open-ended__result"}},{key:"events",get:function(){return{"click button":function(e){this.trigger("undo",this.model)}}}},{key:"initialize",value:function(){r.default.extend(this,Object(p.a)(this)),this.listenTo(this.model,"remove",this.remove)}},{key:"render",value:function(){var e=this.model.get("humanized_value")||this.model.get("value");return this.$el.html('\n      <span class="component-response-open-ended__result__value">'.concat(Object(d.cleanString)(e),'</span>\n      <button class="component-response-open-ended__result__undo" title="Clear response"><pe-graphic type=icon name=trash></pe-graphic></button>\n    ')),this}}])&&y(t.prototype,n),i&&y(t,i),s}(a.a.View),O=n(1112),_=n.n(O);function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e,t,n){return(S="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=C(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function T(e,t){return(T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=C(e);if(t){var i=C(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return R(this,n)}}function R(e,t){if(t&&("object"===j(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var $=function(e){var t=e.model.get("instruction_image_url"),n=e.model.get("instruction_image_alt")||"Unlabelled instructions image";e.$_toggleModifier(e.$el,"".concat(e.className,"__instruction-image"),"hidden",!t),e.$_toggleModifier(null,e.className,"instructions",!!t),t&&e.$instructionImage.find("img").attr("src",t).attr("alt",n)};function A(){var e=this.model.collection&&this.model.collection.poll;return!!e&&e.get("full_page")}var D=function(e){e.$responsePlaceholder.toggle(0===e.state.get("responseCount")),z(e)},N=function(e){e.$_toggleModifier(null,e.className,"undoable",!!e.state.get("undoable"))},z=function(e){var t=e.$textarea.val()||"";e.$submit.prop("disabled",0===t.length||!e.state.get("enabled")),e.$textarea.prop("disabled",!e.state.get("enabled"))},I=function(e,t){t.preventDefault(),B(e)},B=function(e){var t,n=o.a.trim(e.$textarea.val());e.$textarea.is("[disabled]")||0===n.length||(e.options.clearOnSubmit&&e.$textarea.val(""),A.call(e)?((t=e.model.results.find((function(e){return e.isNew()})))&&e.model.results.remove(t),t=e.model.results.add({value:n},{silent:!0})):t=e.model.results.add({value:n},{at:0}),e.trigger("result",t,e.model))},M=function(e){e.$el.append(e.template),e.$responses=e.$_element("responses"),e.$instructionImage=e.$_element("instruction-image"),e.$responsePlaceholder=e.$_element("response-placeholder"),e.$textarea=e.$("textarea"),e.$textarea.attr({maxlength:e.options.maxLength,"aria-labelledby":e.titleId}),e.$submit=e.$("input[type=submit]"),e.$counter=e.$_element("counter"),e.listenTo(e.model,"change:instruction_image_url",(function(){$(e)})),e.options.showResponses?(e.list=new f.a({collection:e.model.results,viewClass:function(){return k}}),e.list.on("undo",(function(t){return e.trigger("undo",t)})),e.$responses.append(e.list.render().$el)):e.$responses.remove(),e.options.showSubmitButton||e.$submit.remove(),$(e),D(e),N(e)},L=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T(e,t)}(s,e);var t,n,i,o=x(s);function s(){return E(this,s),o.apply(this,arguments)}return t=s,(n=[{key:"className",get:function(){return"component-response-open-ended"}},{key:"template",get:function(){return _.a}},{key:"events",get:function(){return{"submit form":function(e){return I(this,e)},"keydown textarea":function(e){return function(e,t){13===t.which&&(t.preventDefault(),e.options.submitOnEnter&&I(e,t))}(this,e)},"input textarea":function(){return function(e){!function(e){var t=e.options.maxLength-138,n=e.$textarea.val()||"",r=n.length,i=e.$_element("input");i.attr("chars-remaining",e.options.maxLength-r),e.$_toggleModifier(e.$el,e.className+"__input","danger-zone",r>t),r>e.options.maxLength&&(e.$textarea.val(n.slice(0,e.options.maxLength)),i.attr("chars-remaining",0))}(e),D(e)}(this)},"blur textarea":function(e){return function(e,t){e.options.submitOnBlur&&I(e,t)}(this,e)}}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r.default.extend(this,Object(p.a)(this)),this.titleId=l(),this.options=r.default.defaults({},e,{showResponses:!0,showSubmitButton:!0,submitOnEnter:!0,submitOnBlur:!1,maxLength:8e3,clearOnSubmit:!0,state:new c.a(this.model),hideStatus:!1,disableSkeleton:!1}),this.model.results.comparator=function(e){return-e.id},this.state=this.options.state,this.options.disableSkeleton||this.listenTo(this.model,"change:id",(function(){M(this)})),this.listenTo(this.state,"change:undoable",r.default.partial(N,this)),this.listenTo(this.state,"change",r.default.partial(D,this))}},{key:"render",value:function(){return this.header=new u.a({model:this.model,state:this.state,hideStatus:this.options.hideStatus,titleId:this.titleId,disableSkeleton:this.options.disableSkeleton}),this.$el.append(this.header.render().$el),(this.model.id||this.options.disableSkeleton)&&M(this),this}},{key:"remove",value:function(){return this.header.remove(),this.list&&this.list.remove(),S(C(s.prototype),"remove",this).apply(this,arguments)}}])&&P(t.prototype,n),i&&P(t,i),s}(a.a.View)},1070:function(e,t,n){"use strict";n.d(t,"a",(function(){return K}));var r=n(0),i=n(1),o=n.n(i),s=n(5),a=n(1036),c=n(1045),l=n(17),u=n.n(l),f=n(102),p=n(1022),d=n(1113),h=n.n(d);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=k(e);if(t){var i=k(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return w(this,n)}}function w(e,t){if(t&&("object"===m(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function k(e){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var O={width:500,height:500,fit:"max"},_=function(e){return e.poll.results.filter({option_id:e.model.id}).length},j=function(e){return e.model.collection.length},E=function(e){return e.model.collection.findIndex((function(t){return e.model.id===t.id}))+1},P=function(e){!function(e){var t=_(e);e.$resultsCount.text(t).prop("hidden",1===e.poll.get("max_votes")),t>0?e.$el.attr("data-vote-count",t):e.$el.removeAttr("data-vote-count")}(e),function(e){var t=_(e),n="".concat(e.model.get("value")," with");e.model.isImage()&&(n="".concat(e.model.get("alt_text")||"Image"," with")),n=1===t?"".concat(n," your vote"):"".concat(n," ").concat(t," of your votes"),e.$el.attr("aria-label","".concat(n,", option ").concat(E(e)," of ").concat(j(e)))}(e);var t=e.poll.get("responses_per_option")||(e.poll.get("type_options")||{}).responses_per_option||0,n=!!t&&_(e)>=t;e.$el.prop("disabled",!e.state.get("enabled")||n)},S=function(e){var t=e.model.get("value"),n=["strong","em","br"];f.a.isLatex(t)?(e.$value.empty(),f.a.renderInto(e.$value,t,{containerClass:"value",cleanWhitelist:n}),e.$value.attr("aria-label","LaTeX equation")):e.model.isImage()?function(e,t){var n=u()("<img />").attr("src",e.model.imageUrl(O));e.model.get("alt_text")&&n.attr("alt",e.model.get("alt_text")),e.$value.html(n)}(e):(t=(t=e.model.displayValue()).replace(/\\n/g,"<br>"),e.$value.html(Object(s.cleanString)(t,{whitelist:n})))},T=function(e,t){var n=t.get("option_id")===e.model.id;e.$_toggleModifier(null,e.className,"last-vote",n),n&&e.$_toggleModifier(null,e.className,"vote",!0)},x=function(e,t){t.get("option_id")!==e.model.id||e.poll.results.any({option_id:e.model.id})||e.$_toggleModifier(null,e.className,"vote",!1)},R=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(s,e);var t,n,i,o=g(s);function s(){return y(this,s),o.apply(this,arguments)}return t=s,(n=[{key:"tagName",get:function(){return"button"}},{key:"className",get:function(){return"component-response-multiple-choice__option"}},{key:"template",get:function(){return h.a}},{key:"events",get:function(){return{"mousedown img":"preventDefault",click:function(){return function(e){var t=e.poll.results.add({option_id:e.model.id});e.$_toggleModifier(null,e.className,"just-selected",!0),r.default.delay((function(){e.$_toggleModifier(null,e.className,"just-selected",!1)}),100),e.trigger("result",t,e.model)}(this)}}}},{key:"initialize",value:function(e){var t=e.state;r.default.extend(this,Object(p.a)(this)),this.state=t,this.poll=this.model.collection.poll,this.listenTo(this.model,"change:value",r.default.partial(S,this)),this.listenTo(this.state,"change",r.default.partial(P,this)),this.listenTo(this.poll.results,"add",r.default.partial(T,this)),this.listenTo(this.poll.results,"remove",r.default.partial(x,this))}},{key:"render",value:function(){return this.$el.html(this.template),this.$value=this.$_element("value"),this.$resultsCount=this.$_element("results-count"),S(this),P(this),function(e){var t=e.poll.results.last(),n=!!t&&t.has("option_id")&&e.poll.results.any({option_id:e.model.id}),r=n&&t.get("option_id")===e.model.id;e.$_toggleModifier(null,e.className,"vote",n),e.$_toggleModifier(null,e.className,"last-vote",r)}(this),this}}])&&v(t.prototype,n),i&&v(t,i),s}(o.a.View),C=n(1026);function $(e,t,n,r,i,o,s){try{var a=e[o](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,i)}function A(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function s(e){$(o,r,i,s,a,"next",e)}function a(e){$(o,r,i,s,a,"throw",e)}s(void 0)}))}}function D(e,t){return N.apply(this,arguments)}function N(){return(N=A(regeneratorRuntime.mark((function e(t,r){var i,o,s,a,c,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(!!t.model.get("participant_viz")&&"survey"!==(null===(i=(o=t.model).mqaType)||void 0===i?void 0:i.call(o)))){e.next=11;break}if(t._chart){e.next=9;break}return s=!1,t._chart={remove:function(){s=!0}},e.next=7,Promise.all([n.e(8),n.e(278)]).then(n.bind(null,2116));case 7:a=e.sent.default,s||(t._chart=new a({model:t.model,state:t.state,styleRoot:t.el}),t._chart.render().$el.insertBefore(r),t.trigger("has:chart"));case 9:e.next=13;break;case 11:null===(c=t._chart)||void 0===c||null===(l=c.remove)||void 0===l||l.call(c),t._chart=null;case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var z=n(1114),I=n.n(z);function B(e){return(B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function M(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function F(e,t,n){return(F="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=W(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function V(e,t){return(V=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=W(e);if(t){var i=W(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return U(this,n)}}function U(e,t){if(t&&("object"===B(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function W(e){return(W=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Y=function(e){var t=e.model.get("instruction_image_url"),n=e.model.get("instruction_image_alt")||"Unlabelled instructions image";e.$_toggleModifier(e.$el,"".concat(e.className,"__instruction-image"),"hidden",!t),e.$_toggleModifier(null,e.className,"instructions",!!t),t&&e.$instructionImage.find("img").attr("src",t).attr("alt",n)},X=function(e){e.$_toggleModifier(null,e.className,"undoable",e.state.get("undoable"))},H=function(e){var t,n,r=Object(s.pluralize)(e.model.mcpOptions.length,"option",{includeNumber:!0});e.$el.append(e.template),e.$undo=e.$_element("undo"),e.$responseContainer=e.$_element("response-container"),e.$instructionImage=e.$_element("instruction-image"),e.listenTo(e.model,"change:instruction_image_url",(function(){Y(e)})),e.list=new C.a({autoRemove:!0,collection:e.model.mcpOptions,attributes:{"aria-label":"Response options, ".concat(r)},viewClass:function(){return R},viewOptions:function(){return{state:e.state}}}),e.listenTo(e.list,"result",(function(t,n){e.trigger("result",t,n)})),e.$responseContainer.prepend(e.list.render().$el),e.list.$el.addClass("component-response-multiple-choice__response-options"),Y(e),X(e),t=e,n=e.header.$el,t.listenTo(t.model,"change:participant_viz",(function(){return D(t,n)})),D(t,n)},K=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&V(e,t)}(s,e);var t,n,i,o=q(s);function s(){return M(this,s),o.apply(this,arguments)}return t=s,(n=[{key:"className",get:function(){return"component-response-multiple-choice"}},{key:"template",get:function(){return I.a}},{key:"events",get:function(){return{"click .component-response-multiple-choice__undo":function(){!function(e){e.trigger("undo",e.model.results.last())}(this)}}}},{key:"initialize",value:function(e){r.default.extend(this,Object(p.a)(this)),this.options=r.default.defaults({},e,{state:new a.a(this.model),hideStatus:!1,disableSkeleton:!1}),this.state=this.options.state,this.options.disableSkeleton||this.listenTo(this.model,"change:id",r.default.partial(H,this)),this.listenTo(this.state,"change:undoable",r.default.partial(X,this))}},{key:"remove",value:function(){var e,t,n;return this.header.remove(),null===(e=this.list)||void 0===e||e.remove(),null===(t=this._chart)||void 0===t||null===(n=t.remove)||void 0===n||n.call(t),F(W(s.prototype),"remove",this).apply(this,arguments)}},{key:"render",value:function(){return this.header=new c.a({model:this.model,state:this.state,hideStatus:this.options.hideStatus,disableSkeleton:this.options.disableSkeleton}),this.$el.append(this.header.render().$el),this.model.isNew()&&!this.options.disableSkeleton||H(this),this}}])&&L(t.prototype,n),i&&L(t,i),s}(o.a.View)},1071:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));function r(e){return e.toLowerCase()}var i=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],o=/[^A-Z0-9]+/gi;function s(e,t){void 0===t&&(t={});for(var n=t.splitRegexp,s=void 0===n?i:n,c=t.stripRegexp,l=void 0===c?o:c,u=t.transform,f=void 0===u?r:u,p=t.delimiter,d=void 0===p?" ":p,h=a(a(e,s,"$1\0$2"),l,"\0"),m=0,y=h.length;"\0"===h.charAt(m);)m++;for(;"\0"===h.charAt(y-1);)y--;return h.slice(m,y).split("\0").map(f).join(d)}function a(e,t,n){return t instanceof RegExp?e.replace(t,n):t.reduce((function(e,t){return e.replace(t,n)}),e)}},1094:function(e,t,n){"use strict";n.d(t,"g",(function(){return f})),n.d(t,"d",(function(){return p})),n.d(t,"e",(function(){return d})),n.d(t,"f",(function(){return h})),n.d(t,"c",(function(){return v})),n.d(t,"b",(function(){return g})),n.d(t,"a",(function(){return k}));var r=n(2),i=n.n(r),o=n(353),s=n(1044),a=n(1120),c=n(1096);function l(e,t,n,r,i,o,s){try{var a=e[o](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,i)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function s(e){l(o,r,i,s,a,"next",e)}function a(e){l(o,r,i,s,a,"throw",e)}s(void 0)}))}}function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"presenter_";return Object(c.a)()?"".concat(e).concat(window.Capacitor.platform.toLowerCase()):"web"}function p(){return window.Capacitor&&window.Capacitor.isNative&&"ios"===window.Capacitor.platform}function d(e){Object(c.a)()?function(e,t){Object(c.a)()?a.a.open({url:e}):window.ssoPopover=window.open(e,"_blank",t)}(e,p()?"location=no,closebuttoncaption=Cancel,clearcache=yes":"location=yes,clearcache=yes"):window.location.href=e}function h(e,t){return m.apply(this,arguments)}function m(){return(m=u(regeneratorRuntime.mark((function e(t,n){var r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new o.b.OutOfBandAuthenticationCode,e.next=3,r.save();case 3:return r.on("completed",(function(){t()})),r.on("failed",(function(e){throw new Error(e)})),i=o.d.get("api_url").path(r.url()).query({start_login:!0,provider:n.provider,saml_issuer:n.samlIssuer}),r.startChecking(),e.abrupt("return",i.toString());case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(){return Backbone.ajax({method:"GET",url:o.d.get("api_url").path("/oauth2/session_check"),headers:{accept:"application/json"}}).then((function(){return!0})).catch((function(){return!1}))}function v(e,t){return b.apply(this,arguments)}function b(){return(b=u(regeneratorRuntime.mark((function e(t,n){var r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=function e(){clearTimeout(r),r=setTimeout((function(){y().then((function(n){n?t():e()}))}),2e3)},e.next=3,s.b.openBrowser({url:n.url});case 3:i();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e){return"embed"===e.role?"embed":"agave"===e.role?"agave":Object(c.a)()?"mobile":s.b&&s.b.canOpenBrowser()?"google"===Object(s.k)()?"chrome":"desktop":"web"}function w(e){if(Object(c.a)()){var t="participant"===e?"/":"/activities";return o.d.get("api_url").path("/auth/redirect/".concat(f("".concat(e,"_")))).query({path:t})}return i()()}function k(e,t){return i()(e).query({redirect:w(t),token_required:Object(c.a)()}).toString()}},1095:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.create;Object.create;var i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.create;Object.create;var o=n(1071);function s(e,t){return void 0===t&&(t={}),function(e,t){return void 0===t&&(t={}),Object(o.a)(e,i({delimiter:"."},t))}(e,r({delimiter:"_"},t))}},1111:function(e,t){e.exports=function(){return function(e){return function(){var e;return(e=[]).push("<h1 class='component-response-header__title'></h1>\n<span class='component-response-header__aria-desc' hidden></span>\n<div class='component-response-header__look-at-screen'>\n  <p aria-label='The title of this activity is only visible on the presenter screen. Please contact the presenter for assistance.'>\n    The title of this activity is only visible on the presenter screen.\n  </p>\n</div>\n<div class='component-response-header__status'></div>\n<div class='component-response-header__anonymous'></div>"),e.join("\n").replace(/\s(?:id|class)=(['"])(\1)/gm,"")}.call(e)}}.call(this)},1112:function(e,t){e.exports=function(){return function(e){return function(){var e;return(e=[]).push("<div class='component-response-open-ended__body'>\n  <div class='component-response-open-ended__instruction-image'>\n    <img src=''>\n  </div>\n  <form method='post' novalidate action='#'>\n    <div class='component-response-open-ended__input'>\n      <textarea name='response' placeholder='Enter a response'></textarea>\n    </div>\n    <input type='submit' value='Submit'>\n  </form>\n  <div class='component-response-open-ended__responses' role='log' aria-label='Your responses'>\n    <div class='component-response-open-ended__response-placeholder'>No responses submitted yet.</div>\n  </div>\n</div>"),e.join("\n").replace(/\s(?:id|class)=(['"])(\1)/gm,"")}.call(e)}}.call(this)},1113:function(e,t){e.exports=function(){return function(e){return function(){var e;return(e=[]).push("<div class='component-response-multiple-choice__option__results-count'>0</div>\n<div class='component-response-multiple-choice__option__value'></div>"),e.join("\n").replace(/\s(?:id|class)=(['"])(\1)/gm,"")}.call(e)}}.call(this)},1114:function(e,t){e.exports=function(){return function(e){return function(){var e;return(e=[]).push("<div class='component-response-multiple-choice__body'>\n  <div class='component-response-multiple-choice__instruction-image'>\n    <img src=''>\n  </div>\n  <div class='component-response-multiple-choice__response-container'>\n    <button class='component-response-multiple-choice__undo'>Clear last response</button>\n  </div>\n</div>"),e.join("\n").replace(/\s(?:id|class)=(['"])(\1)/gm,"")}.call(e)}}.call(this)},1117:function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return d}));var r,i=n(520),o=n(6),s=n(1023),a=n(1024),c=n(2),l=n.n(c),u=n(1072);function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.signupEnabled,n=void 0===t||t;return new Promise((function(e,t){(r=h(e,t)).save().then((function(){if("webex"===s.a.getState()[a.a.name].role){var e=l()(o.a.get("api_url")).path("auth/out_of_band_authentication_codes/".concat(r.get("code")));Object(u.a)(e,{features:["resizable","scrollbars","status","width=1400","height=900"]})}else{var t,i,c=l()({protocol:"https",hostname:o.a.get("auth_fqdn"),path:"code/".concat(r.get("code")),query:"forceLogout=true".concat(n?"":"&disabled=signups")});null!==(t=window.Office)&&void 0!==t&&null!==(i=t.UI)&&void 0!==i&&i.openBrowserWindow?window.Office.UI.openBrowserWindow(c):Object(u.a)(c,{features:["resizable","scrollbars","status"]})}r.startChecking()}))}))}function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"unknown";return new Promise((function(t,n){(r=h(t,n)).save().then((function(){var t=l()(o.a.get("api_url")).path("account/surveys/use_case"),n=l()(o.a.get("api_url")).path("auth/out_of_band_authentication_codes/".concat(r.get("code"))).query("redirect=".concat(encodeURIComponent(t))),i=l()(o.a.get("api_url")).path("signup").query("user[role]=presenter&usrc=".concat(e,"&redirect=").concat(encodeURIComponent(n)));Object(u.a)(i,{features:["resizable","scrollbars","status","width=1400","height=900"]}),r.startChecking()}))}))}function d(){var e;null===(e=r)||void 0===e||e.stopChecking()}function h(e,t){var n=new i.a;return n.on("completed",e),n.on("failed",t),n}},1118:function(e,t,n){"use strict";n.d(t,"a",(function(){return F}));var r=n(0),i=n(1),o=n.n(i),s=n(17),a=n.n(s),c=n(2),l=n.n(c),u=n(5),f=n(491);n.n(f).a.makeJQueryPlugin(a.a);var p=function(e,t){var n=a.a.Deferred(),r=e.getTypeOption("imageUrl");if(!r)return n.reject("Image url is required.");var i=l()(r).protocol("https").toString(),o={};o.w=screen.width||2e3,o.h=screen.height||2e3,o.fit="max",o.q=70,r=Object(u.proxiedImageUrl)(i,o),window.cordova||(r=l()(r).protocol("").toString());var s=a()("<img>").css({position:"absolute",left:"-99999px",top:"-99999px"});return s.imagesLoaded().done((function(){var e=new Image;e.onload=function(){var t=e.height/e.width;return s.remove(),n.resolve(t,r)},e.src=s.attr("src")})).fail((function(){return n.reject()})),s.attr("src",r).appendTo(t),n},d=function(e){return{imageLoadedPromise:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.clearCache&&delete e._imageRatioPromise,e._imageRatioPromise||(e._imageRatioPromise=p(e.model,e.$el))}}},h=n(1036),m=n(1045),y=n(1022);function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_(e);if(t){var i=_(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return O(this,n)}}function O(e,t){if(t&&("object"===v(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var j=function(e){var t="chart"===e.model.get("display_state")&&!e.options.disableGradedPins;if(e.$_toggleModifier(null,e.className,"correct",!1),e.$_toggleModifier(null,e.className,"incorrect",!1),t&&e.poll.isGraded())return e.model.get("correct")||e.regions.isValueCorrect(e.model.get("value"))?e.$_toggleModifier(null,e.className,"correct",!0):e.$_toggleModifier(null,e.className,"incorrect",!0)},E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(s,e);var t,n,i,o=k(s);function s(){return b(this,s),o.apply(this,arguments)}return t=s,(n=[{key:"className",get:function(){return"component-response-clickable-image__response"}},{key:"initialize",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r.default.extend(this,Object(y.a)(this)),this.options=r.default.defaults({},t,{disableGradedPins:!0,animated:!0}),this.poll=this.model.collection.poll,this.flashOptions=this.poll.flashOptions(),this.listenTo(this.model,"error",(function(){return e.$_toggleModifier(null,e.className,"error",!0)})),this.listenTo(this.model,"remove",this.remove),this.listenTo(this.model,"change:display_state",r.default.partial(j,this))}},{key:"render",value:function(){return this.$_toggleModifier(null,this.className,"animated",this.options.animated),function(e){var t=e.model.relativeX()+"%",n=e.model.relativeY()+"%";e.$el.css({left:t,top:n,zIndex:e.model.collection.indexOf(e.model)+1})}(this),j(this),this}}])&&g(t.prototype,n),i&&g(t,i),s}(o.a.View),P=n(1026),S=n(1246),T=n.n(S);function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $(e,t,n){return($="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=z(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function A(e,t){return(A=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function D(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=z(e);if(t){var i=z(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return N(this,n)}}function N(e,t){if(t&&("object"===x(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function z(e){return(z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var I=function(e){return Math.round(1e4*e)/1e4},B=function(e){return e.$_toggleModifier(null,e.className,"disabled",!e.state.get("enabled")),function(e){return e.$_toggleModifier(null,e.className,"undoable",e.state.get("undoable"))}(e)},M=function(e){return e.imageLoadedPromise({clearCache:!0}).done((function(t,n){var r=e.model.get("type_options").imageAlt;return r&&e.$regions.find("img").attr("alt",r),e.$regions.find("img").attr("src",n)}))},L=function(e){return B(e),M(e).always((function(){return e.list=new P.a({collection:e.model.results,viewClass:function(){return E},viewOptions:function(t){return{disableGradedPins:!0,animated:!0,regions:e.model.regions}}}),e.$regions.append(e.list.render().$el)}))},F=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&A(e,t)}(s,e);var t,n,i,o=D(s);function s(){return R(this,s),o.apply(this,arguments)}return t=s,(n=[{key:"className",get:function(){return"component-response-clickable-image"}},{key:"template",get:function(){return T.a}},{key:"events",get:function(){return{"click .component-response-clickable-image__regions img":function(e){return function(e,t){t.offsetX||(t.offsetX=t.pageX-e.$regions.offset().left),t.offsetY||(t.offsetY=t.pageY-e.$regions.offset().top);var n=I(t.offsetX/e.$regions.outerWidth(!0)),r=I(t.offsetY/e.$regions.outerHeight(!0)),i=e.model.findRegion(n,r,e.$regions.outerWidth(!0),e.$regions.outerHeight(!0)),o=e.model.results.add({value:"region: ".concat(100*n,"%,").concat(100*r,"%"),option_id:i.id});return e.trigger("result",o,i)}(this,e)},"click .component-response-clickable-image__undo":function(){return function(e){return e.trigger("undo",e.model.results.last())}(this)}}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r.default.extend(this,Object(y.a)(this)),r.default.extend(this,d(this)),this.options=r.default.defaults({},e,{state:new h.a(this.model),disableSkeleton:!1}),this.state=this.options.state,this.listenTo(this.state,"change",r.default.partial(B,this)),this.listenTo(this.model,"change:type_options",r.default.partial(M,this)),this.options.disableSkeleton||this.listenTo(this.model,"change:id",r.default.partial(L,this))}},{key:"render",value:function(){return this.header=new m.a({model:this.model,state:this.state,disableSkeleton:this.options.disableSkeleton}),this.$el.append(this.header.render().$el),this.$el.append(this.template),this.$regions=this.$_element("regions"),this.model.isNew()&&!this.options.disableSkeleton||L(this),this}},{key:"remove",value:function(){return null!=this.header&&this.header.remove(),null!=this.list&&this.list.remove(),$(z(s.prototype),"remove",this).apply(this,arguments)}}])&&C(t.prototype,n),i&&C(t,i),s}(o.a.View)},1119:function(e,t,n){"use strict";n.d(t,"a",(function(){return ne}));var r=n(0),i=n(17),o=n.n(i),s=n(1),a=n.n(s),c=n(5);function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var f={moves:function(){return!0}},p=function(e,t,n){var r=function(e,t){return!t.is(e.$list)&&(t.parent().is(e.$list)||(t=t.parentsUntil(e.$list).last()),!!t.parent().is(e.$list)&&!!e.options.moves(t)&&t)}(e,t),i=null;r&&("up"===n?(i=r.prev(),e.options.switchFn?e.options.switchFn(r,i):r.insertBefore(i)):(i=r.next(),e.options.switchFn?e.options.switchFn(r,i):r.insertAfter(i)),t.focus(),e.trigger("move",n,r))},d=function(e){if(!e._attached)return e._attached=!0,e.$list.on("keyup.keyboard_sorting",(function(t){return t.shiftKey&&38===t.which?p(e,o()(t.target),"up"):t.shiftKey&&40===t.which?p(e,o()(t.target),"down"):void 0}))},h=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};l(this,e),r.default.extend(this,a.a.Events),this.$list=t,this.options=r.default.defaults(n,f),d(this)}var t,n,i;return t=e,(n=[{key:"destroy",value:function(){return this._attached=!1,this.$list.off(".keyboard_sorting")}}])&&u(t.prototype,n),i&&u(t,i),e}(),m=n(1036),y=n(1045),v=n(102),b=(n(1127),n(1129)),g=n.n(b),w=n(1022),k=n(1247),O=n.n(k);function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function P(e,t,n){return(P="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=R(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=R(e);if(t){var i=R(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return x(this,n)}}function x(e,t){if(t&&("object"===_(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var C=function(e){e.$_toggleModifier(null,e.className,"disabled",!e.options.state.get("enabled")),e.$_toggleModifier(null,e.className,"submitted",e.options.state.get("responseCount")>0)},$={width:500,height:500,fit:"max"},A=function(e){var t,n=e.model.get("value"),r=["strong","em","br"];v.a.isLatex(n)?(e.$value.empty(),v.a.renderInto(e.$value,n,{containerClass:"value",cleanWhitelist:r}),e.$value.attr({"aria-label":"LaTeX equation."})):(e.model.isImage()?((t=o()("<img>").addClass("component-response-rank-order__option__image")).attr("src",e.model.imageUrl($)),t.attr("alt",e.model.get("alt_text")||"Unlabelled image")):(n=(n=e.model.displayValue()).replace(/\\n/g,"<br>"),t=Object(c.cleanString)(n,{whitelist:r})),e.$value.html(t))},D=function(e,t){o()(t.target).closest(".component-response-rank-order__option__value").length&&(e.$_hasModifier(null,e.className,"selected")?e.$_toggleModifier(null,e.className,"expanded"):(e._tapInProgress=!0,e.options.state.set("selected",e.model),e.$_toggleModifier(null,e.className,"selected",!0),e.$_toggleModifier(null,e.className,"hide-actions",!1),e.$_element("actions").get(0).animate([{maxWidth:"0%",opacity:0},{maxWidth:"7em",opacity:0},{maxWidth:"7em",opacity:1}],{duration:200}).addEventListener("finish",(function(){e._tapInProgress=!1}))))},N=function(e,t,n){n&&e.model.id===n.id||!this.$_hasModifier(null,this.className,"selected")||(e._tapInProgress=!1,this.$_toggleModifier(null,this.className,"selected",!1),this.$_toggleModifier(null,this.className,"expanded",!1),this.$_element("actions").get(0).animate([{maxWidth:"7em",opacity:1},{maxWidth:"7em",opacity:0},{maxWidth:"0%",opacity:0}],{duration:200}).addEventListener("finish",(function(){return e.$_toggleModifier(null,e.className,"hide-actions",!0)})))},z=function(e,t,n){e.$_element("up").prop("disabled",0===e.model.get("currentPosition")),e.$_element("down").prop("disabled",e.model.get("currentPosition")===e.model.collection.length-1)},I=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(s,e);var t,n,i,o=T(s);function s(){return j(this,s),o.apply(this,arguments)}return t=s,(n=[{key:"className",get:function(){return"component-response-rank-order__option"}},{key:"template",get:function(){return O.a}},{key:"attributes",get:function(){return{tabindex:0,role:"row"}}},{key:"events",get:function(){var e=this;return{"click .component-response-rank-order__option__up":function(){return!e._tapInProgress&&e.trigger("move",e,"up")},"click .component-response-rank-order__option__down":function(){return!e._tapInProgress&&e.trigger("move",e,"down")}}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options=e,r.default.extend(this,Object(w.a)(this)),this.listenTo(this.model,"change:value",r.default.partial(A,this)),this.listenTo(this.model,"change:currentPosition",r.default.partial(z,this)),this.listenTo(this.options.state,"change",r.default.partial(C,this)),this.listenTo(this.options.state,"change:selected",r.default.partial(N,this))}},{key:"render",value:function(){return this.$el.html(this.template),this.$el.data("option-id",this.model.id),this.$_toggleModifier(null,this.className,"hide-actions",!0),this.$value=this.$_element("value"),this.hammertime=new g.a.Manager(this.el),this.hammertime.add(new g.a.Tap),this.hammertime.on("tap",r.default.partial(D,this)),A(this),C(this),z(this),this}},{key:"remove",value:function(){this.hammertime.destroy(),P(R(s.prototype),"remove",this).call(this)}}])&&E(t.prototype,n),i&&E(t,i),s}(a.a.View),B=n(1026),M=n(1248),L=n.n(M);function F(e){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function V(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function U(e,t,n){return(U="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=H(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function W(e,t){return(W=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=H(e);if(t){var i=H(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return X(this,n)}}function X(e,t){if(t&&("object"===F(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function H(e){return(H=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var K=function(e){e.$submit.prop("disabled",!e.state.get("enabled")),te(e),function(e){e.$_toggleModifier(null,e.className,"undoable",e.state.get("undoable"))}(e)},G=function(e){e.model.mcpOptions.comparator="currentPosition";var t=e.model.results&&e.model.results.length&&e.model.results.first();if(0!==e.state.get("responseCount")&&!t.isNew()){var n=t.get("value").split(",").map((function(e){return e.trim()}));e.model.mcpOptions.forEach((function(e){var t=n.indexOf(e.get("value"));e.set("currentPosition",t)})),e.model.mcpOptions.sort()}},Q=function(e,t,n){var r=e.get(t),i=e.get(n);if(r&&i){var o=r.get("currentPosition");r.set("currentPosition",i.get("currentPosition")),i.set("currentPosition",o),e.sort()}},Z=function(e){var t=e.model.get("instruction_image_url"),n=e.model.get("instruction_image_alt")||"Unlabelled instructions image";e.$_toggleModifier(e.$el,"".concat(e.className,"__instruction-image"),"hidden",!t),e.$_toggleModifier(null,e.className,"instructions",!!t),t&&e.$instructionImage.find("img").attr("src",t).attr("alt",n)},J=function(e){!function(e){var t=e.model.mcpOptions.shuffle();e.model.mcpOptions.set(t)}(e),e.$el.append(e.template),e.$submit=e.$("button[type='submit']"),e.$responseContainer=e.$_element("response-container"),e.$instructionImage=e.$_element("instruction-image"),e.listenTo(e.model,"change:instruction_image_url",(function(){return Z(e)}));var t=Object(c.pluralize)(e.model.mcpOptions.length,"item",{includeNumber:!0});e.model.mcpOptions.each((function(e,t){return e.set("currentPosition",t)})),e.model.mcpOptions.comparator="currentPosition",e.list=new B.a({collection:e.model.mcpOptions,animate:!0,autoRemove:!0,attributes:{"aria-label":"Items to be ranked, ".concat(t,". To rank items hold SHIFT and use the UP and DOWN arrows to re-order."),role:"list"},viewClass:function(){return I},viewOptions:function(){return{state:e.state}}}),e.listenTo(e.list,"move",(function(t,n){var r="up"===n?t.$el.prev():t.$el.next();Q(e.model.mcpOptions,t.model.id,r.data("option-id")),t.$_element(n).focus()})),e.$responseContainer.append(e.list.render().$el),e.list.$el.addClass("component-response-rank-order__options"),e.$options=e.list.$el,K(e),G(e),Z(e),e.$submit.text(e.options.submitButtonLabel)},ee=function(e){var t=function(e){var t=e.$_element("option").map((function(e,t){return o()(t).data("option-id")}));return t=Object(r.default)(t).compact(),Object(r.default)(t).uniq()}(e),n=e.model.results.add({value:t});e.trigger("result",n,e.model)},te=function(e){e.state.get("enabled")?e.keyboardSorting||(e.keyboardSorting=new h(e.$options,{switchFn:function(t,n){t.length&&n.length&&Q(e.model.mcpOptions,t.data("option-id"),n.data("option-id"))}}),e.keyboardSorting.on("move",(function(e,t){t.attr("aria-label","Moved to position ".concat(t.index()+1)),setTimeout((function(){t.removeAttr("aria-label")}),100)}))):(e.keyboardSorting&&(e.keyboardSorting.destroy(),e.keyboardSorting=null),e.state.set("selected",null))},ne=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&W(e,t)}(s,e);var t,n,i,o=Y(s);function s(){return V(this,s),o.apply(this,arguments)}return t=s,(n=[{key:"className",get:function(){return"component-response-rank-order"}},{key:"template",get:function(){return L.a}},{key:"events",get:function(){return{"click button[type='submit']":function(){return ee(this)},"click .component-response-rank-order__undo":function(){return function(e){return e.trigger("undo",e.model.results.last())}(this)}}}},{key:"initialize",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r.default.extend(this,Object(w.a)(this)),this.options=r.default.defaults({},t,{submitButtonLabel:"Submit response",state:new m.a(this.model),disableSkeleton:!1}),this.state=this.options.state,this.listenTo(this.state,"change",r.default.partial(K,this)),this.listenTo(this.model,"change:id",r.default.partial(J,this)),this.listenTo(this.model.mcpOptions,"add remove",(function(){e.model.mcpOptions.each((function(e,t){return e.set("currentPosition",t)}))})),this.listenTo(this.model.results,"update",r.default.partial(G,this))}},{key:"render",value:function(){return this.header=new y.a({model:this.model,state:this.state,disableSkeleton:this.options.disableSkeleton}),this.$el.append(this.header.render().$el),this.model.isNew()&&!this.options.disableSkeleton||J(this),this}},{key:"remove",value:function(){return null!=this.header&&this.header.remove(),null!=this.list&&this.list.remove(),this.keyboardSorting&&(this.keyboardSorting.destroy(),this.keyboardSorting=null),U(H(s.prototype),"remove",this).apply(this,arguments)}}])&&q(t.prototype,n),i&&q(t,i),s}(a.a.View)},1120:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(1048);const i=Object(r.c)("Browser",{web:()=>n.e(356).then(n.bind(null,2100)).then((e=>new e.BrowserWeb))})},1129:function(e,t,n){var r;!function(i,o,s,a){"use strict";var c,l=["","webkit","Moz","MS","ms","o"],u=o.createElement("div"),f=Math.round,p=Math.abs,d=Date.now;function h(e,t,n){return setTimeout(k(e,n),t)}function m(e,t,n){return!!Array.isArray(e)&&(y(e,n[t],n),!0)}function y(e,t,n){var r;if(e)if(e.forEach)e.forEach(t,n);else if(e.length!==a)for(r=0;r<e.length;)t.call(n,e[r],r,e),r++;else for(r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r,e)}function v(e,t,n){var r="DEPRECATED METHOD: "+t+"\n"+n+" AT \n";return function(){var t=new Error("get-stack-trace"),n=t&&t.stack?t.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=i.console&&(i.console.warn||i.console.log);return o&&o.call(i.console,r,n),e.apply(this,arguments)}}c="function"!=typeof Object.assign?function(e){if(e===a||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(r!==a&&null!==r)for(var i in r)r.hasOwnProperty(i)&&(t[i]=r[i])}return t}:Object.assign;var b=v((function(e,t,n){for(var r=Object.keys(t),i=0;i<r.length;)(!n||n&&e[r[i]]===a)&&(e[r[i]]=t[r[i]]),i++;return e}),"extend","Use `assign`."),g=v((function(e,t){return b(e,t,!0)}),"merge","Use `assign`.");function w(e,t,n){var r,i=t.prototype;(r=e.prototype=Object.create(i)).constructor=e,r._super=i,n&&c(r,n)}function k(e,t){return function(){return e.apply(t,arguments)}}function O(e,t){return"function"==typeof e?e.apply(t&&t[0]||a,t):e}function _(e,t){return e===a?t:e}function j(e,t,n){y(T(t),(function(t){e.addEventListener(t,n,!1)}))}function E(e,t,n){y(T(t),(function(t){e.removeEventListener(t,n,!1)}))}function P(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function S(e,t){return e.indexOf(t)>-1}function T(e){return e.trim().split(/\s+/g)}function x(e,t,n){if(e.indexOf&&!n)return e.indexOf(t);for(var r=0;r<e.length;){if(n&&e[r][n]==t||!n&&e[r]===t)return r;r++}return-1}function R(e){return Array.prototype.slice.call(e,0)}function C(e,t,n){for(var r=[],i=[],o=0;o<e.length;){var s=t?e[o][t]:e[o];x(i,s)<0&&r.push(e[o]),i[o]=s,o++}return n&&(r=t?r.sort((function(e,n){return e[t]>n[t]})):r.sort()),r}function $(e,t){for(var n,r,i=t[0].toUpperCase()+t.slice(1),o=0;o<l.length;){if((r=(n=l[o])?n+i:t)in e)return r;o++}return a}var A=1;function D(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow||i}var N="ontouchstart"in i,z=$(i,"PointerEvent")!==a,I=N&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),B="touch",M="mouse",L=24,F=["x","y"],V=["clientX","clientY"];function q(e,t){var n=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){O(e.options.enable,[e])&&n.handler(t)},this.init()}function U(e,t,n){var r=n.pointers.length,i=n.changedPointers.length,o=1&t&&r-i==0,s=12&t&&r-i==0;n.isFirst=!!o,n.isFinal=!!s,o&&(e.session={}),n.eventType=t,function(e,t){var n=e.session,r=t.pointers,i=r.length;n.firstInput||(n.firstInput=W(t));i>1&&!n.firstMultiple?n.firstMultiple=W(t):1===i&&(n.firstMultiple=!1);var o=n.firstInput,s=n.firstMultiple,c=s?s.center:o.center,l=t.center=Y(r);t.timeStamp=d(),t.deltaTime=t.timeStamp-o.timeStamp,t.angle=G(c,l),t.distance=K(c,l),function(e,t){var n=t.center,r=e.offsetDelta||{},i=e.prevDelta||{},o=e.prevInput||{};1!==t.eventType&&4!==o.eventType||(i=e.prevDelta={x:o.deltaX||0,y:o.deltaY||0},r=e.offsetDelta={x:n.x,y:n.y});t.deltaX=i.x+(n.x-r.x),t.deltaY=i.y+(n.y-r.y)}(n,t),t.offsetDirection=H(t.deltaX,t.deltaY);var u=X(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=u.x,t.overallVelocityY=u.y,t.overallVelocity=p(u.x)>p(u.y)?u.x:u.y,t.scale=s?(f=s.pointers,h=r,K(h[0],h[1],V)/K(f[0],f[1],V)):1,t.rotation=s?function(e,t){return G(t[1],t[0],V)+G(e[1],e[0],V)}(s.pointers,r):0,t.maxPointers=n.prevInput?t.pointers.length>n.prevInput.maxPointers?t.pointers.length:n.prevInput.maxPointers:t.pointers.length,function(e,t){var n,r,i,o,s=e.lastInterval||t,c=t.timeStamp-s.timeStamp;if(8!=t.eventType&&(c>25||s.velocity===a)){var l=t.deltaX-s.deltaX,u=t.deltaY-s.deltaY,f=X(c,l,u);r=f.x,i=f.y,n=p(f.x)>p(f.y)?f.x:f.y,o=H(l,u),e.lastInterval=t}else n=s.velocity,r=s.velocityX,i=s.velocityY,o=s.direction;t.velocity=n,t.velocityX=r,t.velocityY=i,t.direction=o}(n,t);var f,h;var m=e.element;P(t.srcEvent.target,m)&&(m=t.srcEvent.target);t.target=m}(e,n),e.emit("hammer.input",n),e.recognize(n),e.session.prevInput=n}function W(e){for(var t=[],n=0;n<e.pointers.length;)t[n]={clientX:f(e.pointers[n].clientX),clientY:f(e.pointers[n].clientY)},n++;return{timeStamp:d(),pointers:t,center:Y(t),deltaX:e.deltaX,deltaY:e.deltaY}}function Y(e){var t=e.length;if(1===t)return{x:f(e[0].clientX),y:f(e[0].clientY)};for(var n=0,r=0,i=0;i<t;)n+=e[i].clientX,r+=e[i].clientY,i++;return{x:f(n/t),y:f(r/t)}}function X(e,t,n){return{x:t/e||0,y:n/e||0}}function H(e,t){return e===t?1:p(e)>=p(t)?e<0?2:4:t<0?8:16}function K(e,t,n){n||(n=F);var r=t[n[0]]-e[n[0]],i=t[n[1]]-e[n[1]];return Math.sqrt(r*r+i*i)}function G(e,t,n){n||(n=F);var r=t[n[0]]-e[n[0]],i=t[n[1]]-e[n[1]];return 180*Math.atan2(i,r)/Math.PI}q.prototype={handler:function(){},init:function(){this.evEl&&j(this.element,this.evEl,this.domHandler),this.evTarget&&j(this.target,this.evTarget,this.domHandler),this.evWin&&j(D(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&E(this.element,this.evEl,this.domHandler),this.evTarget&&E(this.target,this.evTarget,this.domHandler),this.evWin&&E(D(this.element),this.evWin,this.domHandler)}};var Q={mousedown:1,mousemove:2,mouseup:4},Z="mousedown",J="mousemove mouseup";function ee(){this.evEl=Z,this.evWin=J,this.pressed=!1,q.apply(this,arguments)}w(ee,q,{handler:function(e){var t=Q[e.type];1&t&&0===e.button&&(this.pressed=!0),2&t&&1!==e.which&&(t=4),this.pressed&&(4&t&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:M,srcEvent:e}))}});var te={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},ne={2:B,3:"pen",4:M,5:"kinect"},re="pointerdown",ie="pointermove pointerup pointercancel";function oe(){this.evEl=re,this.evWin=ie,q.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}i.MSPointerEvent&&!i.PointerEvent&&(re="MSPointerDown",ie="MSPointerMove MSPointerUp MSPointerCancel"),w(oe,q,{handler:function(e){var t=this.store,n=!1,r=e.type.toLowerCase().replace("ms",""),i=te[r],o=ne[e.pointerType]||e.pointerType,s=o==B,a=x(t,e.pointerId,"pointerId");1&i&&(0===e.button||s)?a<0&&(t.push(e),a=t.length-1):12&i&&(n=!0),a<0||(t[a]=e,this.callback(this.manager,i,{pointers:t,changedPointers:[e],pointerType:o,srcEvent:e}),n&&t.splice(a,1))}});var se={touchstart:1,touchmove:2,touchend:4,touchcancel:8},ae="touchstart",ce="touchstart touchmove touchend touchcancel";function le(){this.evTarget=ae,this.evWin=ce,this.started=!1,q.apply(this,arguments)}function ue(e,t){var n=R(e.touches),r=R(e.changedTouches);return 12&t&&(n=C(n.concat(r),"identifier",!0)),[n,r]}w(le,q,{handler:function(e){var t=se[e.type];if(1===t&&(this.started=!0),this.started){var n=ue.call(this,e,t);12&t&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:B,srcEvent:e})}}});var fe={touchstart:1,touchmove:2,touchend:4,touchcancel:8},pe="touchstart touchmove touchend touchcancel";function de(){this.evTarget=pe,this.targetIds={},q.apply(this,arguments)}function he(e,t){var n=R(e.touches),r=this.targetIds;if(3&t&&1===n.length)return r[n[0].identifier]=!0,[n,n];var i,o,s=R(e.changedTouches),a=[],c=this.target;if(o=n.filter((function(e){return P(e.target,c)})),1===t)for(i=0;i<o.length;)r[o[i].identifier]=!0,i++;for(i=0;i<s.length;)r[s[i].identifier]&&a.push(s[i]),12&t&&delete r[s[i].identifier],i++;return a.length?[C(o.concat(a),"identifier",!0),a]:void 0}w(de,q,{handler:function(e){var t=fe[e.type],n=he.call(this,e,t);n&&this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:B,srcEvent:e})}});function me(){q.apply(this,arguments);var e=k(this.handler,this);this.touch=new de(this.manager,e),this.mouse=new ee(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}function ye(e,t){1&e?(this.primaryTouch=t.changedPointers[0].identifier,ve.call(this,t)):12&e&&ve.call(this,t)}function ve(e){var t=e.changedPointers[0];if(t.identifier===this.primaryTouch){var n={x:t.clientX,y:t.clientY};this.lastTouches.push(n);var r=this.lastTouches;setTimeout((function(){var e=r.indexOf(n);e>-1&&r.splice(e,1)}),2500)}}function be(e){for(var t=e.srcEvent.clientX,n=e.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var i=this.lastTouches[r],o=Math.abs(t-i.x),s=Math.abs(n-i.y);if(o<=25&&s<=25)return!0}return!1}w(me,q,{handler:function(e,t,n){var r=n.pointerType==B,i=n.pointerType==M;if(!(i&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(r)ye.call(this,t,n);else if(i&&be.call(this,n))return;this.callback(e,t,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var ge=$(u.style,"touchAction"),we=ge!==a,ke="compute",Oe="auto",_e="manipulation",je="none",Ee="pan-x",Pe="pan-y",Se=function(){if(!we)return!1;var e={},t=i.CSS&&i.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(n){e[n]=!t||i.CSS.supports("touch-action",n)})),e}();function Te(e,t){this.manager=e,this.set(t)}Te.prototype={set:function(e){e==ke&&(e=this.compute()),we&&this.manager.element.style&&Se[e]&&(this.manager.element.style[ge]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return y(this.manager.recognizers,(function(t){O(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))})),function(e){if(S(e,je))return je;var t=S(e,Ee),n=S(e,Pe);if(t&&n)return je;if(t||n)return t?Ee:Pe;if(S(e,_e))return _e;return Oe}(e.join(" "))},preventDefaults:function(e){var t=e.srcEvent,n=e.offsetDirection;if(this.manager.session.prevented)t.preventDefault();else{var r=this.actions,i=S(r,je)&&!Se.none,o=S(r,Pe)&&!Se["pan-y"],s=S(r,Ee)&&!Se["pan-x"];if(i){var a=1===e.pointers.length,c=e.distance<2,l=e.deltaTime<250;if(a&&c&&l)return}if(!s||!o)return i||o&&6&n||s&&n&L?this.preventSrc(t):void 0}},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}};var xe=32;function Re(e){this.options=c({},this.defaults,e||{}),this.id=A++,this.manager=null,this.options.enable=_(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function Ce(e){return 16&e?"cancel":8&e?"end":4&e?"move":2&e?"start":""}function $e(e){return 16==e?"down":8==e?"up":2==e?"left":4==e?"right":""}function Ae(e,t){var n=t.manager;return n?n.get(e):e}function De(){Re.apply(this,arguments)}function Ne(){De.apply(this,arguments),this.pX=null,this.pY=null}function ze(){De.apply(this,arguments)}function Ie(){Re.apply(this,arguments),this._timer=null,this._input=null}function Be(){De.apply(this,arguments)}function Me(){De.apply(this,arguments)}function Le(){Re.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Fe(e,t){return(t=t||{}).recognizers=_(t.recognizers,Fe.defaults.preset),new Ve(e,t)}Re.prototype={defaults:{},set:function(e){return c(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(m(e,"recognizeWith",this))return this;var t=this.simultaneous;return t[(e=Ae(e,this)).id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return m(e,"dropRecognizeWith",this)||(e=Ae(e,this),delete this.simultaneous[e.id]),this},requireFailure:function(e){if(m(e,"requireFailure",this))return this;var t=this.requireFail;return-1===x(t,e=Ae(e,this))&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(m(e,"dropRequireFailure",this))return this;e=Ae(e,this);var t=x(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){var t=this,n=this.state;function r(n){t.manager.emit(n,e)}n<8&&r(t.options.event+Ce(n)),r(t.options.event),e.additionalEvent&&r(e.additionalEvent),n>=8&&r(t.options.event+Ce(n))},tryEmit:function(e){if(this.canEmit())return this.emit(e);this.state=xe},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(33&this.requireFail[e].state))return!1;e++}return!0},recognize:function(e){var t=c({},e);if(!O(this.options.enable,[this,t]))return this.reset(),void(this.state=xe);56&this.state&&(this.state=1),this.state=this.process(t),30&this.state&&this.tryEmit(t)},process:function(e){},getTouchAction:function(){},reset:function(){}},w(De,Re,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(e){var t=this.state,n=e.eventType,r=6&t,i=this.attrTest(e);return r&&(8&n||!i)?16|t:r||i?4&n?8|t:2&t?4|t:2:xe}}),w(Ne,De,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var e=this.options.direction,t=[];return 6&e&&t.push(Pe),e&L&&t.push(Ee),t},directionTest:function(e){var t=this.options,n=!0,r=e.distance,i=e.direction,o=e.deltaX,s=e.deltaY;return i&t.direction||(6&t.direction?(i=0===o?1:o<0?2:4,n=o!=this.pX,r=Math.abs(e.deltaX)):(i=0===s?1:s<0?8:16,n=s!=this.pY,r=Math.abs(e.deltaY))),e.direction=i,n&&r>t.threshold&&i&t.direction},attrTest:function(e){return De.prototype.attrTest.call(this,e)&&(2&this.state||!(2&this.state)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=$e(e.direction);t&&(e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}}),w(ze,De,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[je]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||2&this.state)},emit:function(e){if(1!==e.scale){var t=e.scale<1?"in":"out";e.additionalEvent=this.options.event+t}this._super.emit.call(this,e)}}),w(Ie,Re,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[Oe]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,r=e.distance<t.threshold,i=e.deltaTime>t.time;if(this._input=e,!r||!n||12&e.eventType&&!i)this.reset();else if(1&e.eventType)this.reset(),this._timer=h((function(){this.state=8,this.tryEmit()}),t.time,this);else if(4&e.eventType)return 8;return xe},reset:function(){clearTimeout(this._timer)},emit:function(e){8===this.state&&(e&&4&e.eventType?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=d(),this.manager.emit(this.options.event,this._input)))}}),w(Be,De,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[je]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||2&this.state)}}),w(Me,De,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return Ne.prototype.getTouchAction.call(this)},attrTest:function(e){var t,n=this.options.direction;return 30&n?t=e.overallVelocity:6&n?t=e.overallVelocityX:n&L&&(t=e.overallVelocityY),this._super.attrTest.call(this,e)&&n&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&p(t)>this.options.velocity&&4&e.eventType},emit:function(e){var t=$e(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),w(Le,Re,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[_e]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,r=e.distance<t.threshold,i=e.deltaTime<t.time;if(this.reset(),1&e.eventType&&0===this.count)return this.failTimeout();if(r&&i&&n){if(4!=e.eventType)return this.failTimeout();var o=!this.pTime||e.timeStamp-this.pTime<t.interval,s=!this.pCenter||K(this.pCenter,e.center)<t.posThreshold;if(this.pTime=e.timeStamp,this.pCenter=e.center,s&&o?this.count+=1:this.count=1,this._input=e,0===this.count%t.taps)return this.hasRequireFailures()?(this._timer=h((function(){this.state=8,this.tryEmit()}),t.interval,this),2):8}return xe},failTimeout:function(){return this._timer=h((function(){this.state=xe}),this.options.interval,this),xe},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Fe.VERSION="2.0.7",Fe.defaults={domEvents:!1,touchAction:ke,enable:!0,inputTarget:null,inputClass:null,preset:[[Be,{enable:!1}],[ze,{enable:!1},["rotate"]],[Me,{direction:6}],[Ne,{direction:6},["swipe"]],[Le],[Le,{event:"doubletap",taps:2},["tap"]],[Ie]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};function Ve(e,t){var n;this.options=c({},Fe.defaults,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=new((n=this).options.inputClass||(z?oe:I?de:N?me:ee))(n,U),this.touchAction=new Te(this,this.options.touchAction),qe(this,!0),y(this.options.recognizers,(function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])}),this)}function qe(e,t){var n,r=e.element;r.style&&(y(e.options.cssProps,(function(i,o){n=$(r.style,o),t?(e.oldCssProps[n]=r.style[n],r.style[n]=i):r.style[n]=e.oldCssProps[n]||""})),t||(e.oldCssProps={}))}Ve.prototype={set:function(e){return c(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?2:1},recognize:function(e){var t=this.session;if(!t.stopped){var n;this.touchAction.preventDefaults(e);var r=this.recognizers,i=t.curRecognizer;(!i||i&&8&i.state)&&(i=t.curRecognizer=null);for(var o=0;o<r.length;)n=r[o],2===t.stopped||i&&n!=i&&!n.canRecognizeWith(i)?n.reset():n.recognize(e),!i&&14&n.state&&(i=t.curRecognizer=n),o++}},get:function(e){if(e instanceof Re)return e;for(var t=this.recognizers,n=0;n<t.length;n++)if(t[n].options.event==e)return t[n];return null},add:function(e){if(m(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(m(e,"remove",this))return this;if(e=this.get(e)){var t=this.recognizers,n=x(t,e);-1!==n&&(t.splice(n,1),this.touchAction.update())}return this},on:function(e,t){if(e!==a&&t!==a){var n=this.handlers;return y(T(e),(function(e){n[e]=n[e]||[],n[e].push(t)})),this}},off:function(e,t){if(e!==a){var n=this.handlers;return y(T(e),(function(e){t?n[e]&&n[e].splice(x(n[e],t),1):delete n[e]})),this}},emit:function(e,t){this.options.domEvents&&function(e,t){var n=o.createEvent("Event");n.initEvent(e,!0,!0),n.gesture=t,t.target.dispatchEvent(n)}(e,t);var n=this.handlers[e]&&this.handlers[e].slice();if(n&&n.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var r=0;r<n.length;)n[r](t),r++}},destroy:function(){this.element&&qe(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},c(Fe,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:xe,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:L,DIRECTION_ALL:30,Manager:Ve,Input:q,TouchAction:Te,TouchInput:de,MouseInput:ee,PointerEventInput:oe,TouchMouseInput:me,SingleTouchInput:le,Recognizer:Re,AttrRecognizer:De,Tap:Le,Pan:Ne,Swipe:Me,Pinch:ze,Rotate:Be,Press:Ie,on:j,off:E,each:y,merge:g,extend:b,assign:c,inherit:w,bindFn:k,prefixed:$}),(void 0!==i?i:"undefined"!=typeof self?self:{}).Hammer=Fe,(r=function(){return Fe}.call(t,n,t,e))===a||(e.exports=r)}(window,document)},1146:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r,i=n(9);var o,s,a=Object(i.i)(r||(o=['\n<advisory-message\n  icon=restart\n  spinIcon=true\n  subject="Awaiting login"\n  message="Please complete login in the window. If you don\'t see it, check the popup wasn\'t blocked by your browser."\n  abortLabel="Restart"\n  @abort=',"\n></advisory-message>\n"],s||(s=o.slice(0)),r=Object.freeze(Object.defineProperties(o,{raw:{value:Object.freeze(s)}}))),(function(){return window.location.reload()}))},1147:function(e,t,n){"use strict";n.d(t,"a",(function(){return k}));var r=n(0),i=n(1),o=n.n(i),s=n(1070),a=n(1118),c=n(1069),l=n(1119),u=n(1022);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t,n){return(h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=b(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=b(e);if(t){var i=b(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v(this,n)}}function v(e,t){if(t&&("object"===f(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var g={discourse:c.a,ranking_poll:l.a,clickable_image:a.a,multiple_choice_poll:s.a,free_text_poll:c.a},w=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t||(t=e.clone()),t.cloneOf=e,t.on("change",(function(e){e.cloneOf.clear({silent:!0}),e.cloneOf.set(e.attributes)})),t},k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(s,e);var t,n,i,o=y(s);function s(){return p(this,s),o.apply(this,arguments)}return t=s,(n=[{key:"className",get:function(){return"component-response-survey__response-list-item"}},{key:"initialize",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r.default.extend(this,Object(u.a)(this)),this.options=t,this.survey=this.model.collection.poll,this.survey.results.where({poll_id:this.model.id}).forEach((function(t){e.model.results.add(w(t))}));var n=g[this.model.type()],i=Object.assign({},this.options);"discourse"===this.model.type()&&(i.maxLength=300),this.view=new n(i),this.listenTo(this.survey.results,"remove",(function(e){var t=this.model.results.filter((function(t){return t.cloneOf===e}));this.model.results.remove(t)})),this.listenTo(this.model.results,"remove",(function(e){this.survey.results.remove(e.cloneOf)})),this.listenTo(this.view,"undo",(function(t){e.trigger("undo",t)})),this.listenTo(this.view,"result",(function(t,n){var r=t.clone();r.poll(t.poll()),w(r,t),e.survey.results.add(r),e.trigger("result",t,n)}))}},{key:"render",value:function(){this.$el.append(this.view.render().$el);var e=this.survey.polls.indexOf(this.model);return this.$el.attr("aria-label","Question ".concat(e+1," of ").concat(this.survey.polls.length," questions")),this}},{key:"remove",value:function(){return this.view.remove(),h(b(s.prototype),"remove",this).apply(this,arguments)}}])&&d(t.prototype,n),i&&d(t,i),s}(o.a.View)},1148:function(e,t,n){"use strict";var r=n(1095);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){return e&&"object"===i(e)?s(e)||a(e)?e:Array.isArray(e)?e.map(o):Object.keys(e).reduce((function(t,n){return t[Object(r.a)(n)]=o(e[n]),t}),{}):e}var s=function(e){return"[object Date]"===Object.prototype.toString.call(e)},a=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)};t.a=function(e){return"string"==typeof e?Object(r.a)(e):o(e)}},1164:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(1312),i=n(1035),o=n(1047),s=Object(r.a)((function(e){return Object(i.i)(e).screenNamesEnabled}),(function(e){return Object(i.i)(e).competitionScreenNamesEnabled}),o.a,(function(e,t,n){if(!n)return e;if(!e&&!t)return!1;var r=n.type;return!n.anonymous&&(!(!("competition"===r)&&!n.inCompetition)||e)}))},1245:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return h}));var r=n(1023),i=n(1025),o=n(1035),s=n(1047),a=n(1178),c=n(1164);function l(e,t,n,r,i,o,s){try{var a=e[o](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,i)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function s(e){l(o,r,i,s,a,"next",e)}function a(e){l(o,r,i,s,a,"throw",e)}s(void 0)}))}}function f(){return p.apply(this,arguments)}function p(){return(p=u(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=r.a.getState(),!Object(o.e)(t)||Object(s.a)(t)&&!Object(a.b)(t)?r.a.dispatch(s.f.toggleScreenNameEdit(!0)):r.a.dispatch(o.l.updateScreenName(d()));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(){var e=r.a.getState()[i.a.name].user;if(e.first_name){var t=e.first_name,n=(e.last_name||"").slice(0,1);return"".concat(t," ").concat(n,".")}return""}function h(){var e=r.a.getState();Object(c.a)(e)&&Object(o.d)(e)&&f.call(self)}},1246:function(e,t){e.exports=function(){return function(e){return function(){var e;return(e=[]).push("<div class='component-response-clickable-image__regions'>\n  <img class='component-response-clickable-image__image' aria-describedby='aria-response-cip-description'>\n</div>\n<button class='component-response-clickable-image__undo'>Clear last response</button>\n<div id='aria-response-cip-description' hidden>Image provided by the presenter. Click on the image to submit your response as a location within the image.</div>"),e.join("\n").replace(/\s(?:id|class)=(['"])(\1)/gm,"")}.call(e)}}.call(this)},1247:function(e,t){e.exports=function(){return function(e){return function(){var e;return(e=[]).push("<div class='component-response-rank-order__option__actions'>\n  <button class='component-response-rank-order__option__up' type='button' title='Move up'></button>\n  <button class='component-response-rank-order__option__down' type='button' title='Move down'></button>\n</div>\n<div class='component-response-rank-order__option__value'></div>"),e.join("\n").replace(/\s(?:id|class)=(['"])(\1)/gm,"")}.call(e)}}.call(this)},1248:function(e,t){e.exports=function(){return function(e){return function(){var e;return(e=[]).push("<div class='component-response-rank-order__instruction-image'>\n  <img src=''>\n</div>\n<div class='component-response-rank-order__body'>\n  <div class='component-response-rank-order__response-container'></div>\n  <button type='submit'></button>\n  <button class='component-response-rank-order__undo'>Clear last response</button>\n</div>"),e.join("\n").replace(/\s(?:id|class)=(['"])(\1)/gm,"")}.call(e)}}.call(this)},1249:function(e,t,n){"use strict";n.d(t,"a",(function(){return k}));var r=n(0),i=n(1),o=n.n(i),s=n(1022),a=n(1250),c=n.n(a),l=n(1147),u=n(1026);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t,n){return(h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=b(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=b(e);if(t){var i=b(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v(this,n)}}function v(e,t){if(t&&("object"===f(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var g=function(e){return e.$count.text("".concat(e.model.polls.length," questions"))},w=function(e){var t=r.default.unique(e.model.results.pluck("participant_key"));e.$submit.prop("disabled",0===t.length)},k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(a,e);var t,n,i,o=y(a);function a(){return p(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"className",get:function(){return"component-response-survey__questions component-response-survey__questions--single-page"}},{key:"template",get:function(){return c.a}},{key:"events",get:function(){return{"click .component-response-survey__actions button":function(){return function(e){return e.trigger("finish")}(this)}}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r.default.extend(this,Object(s.a)(this)),this.options=r.default.defaults(e,{submitOnEnter:!1,submitOnBlur:!0,clearOnSubmit:!1,showSubmitButton:!1,submitButtonLabel:"Confirm ranking"}),this.listenTo(this.model.polls,"update",r.default.partial(w,this)),this.listenTo(this.model.polls,"update",r.default.partial(g,this)),this.listenTo(this.model.results,"update",r.default.partial(w,this))}},{key:"render",value:function(){var e=this;return this.$el.html(this.template),this.$count=this.$(".component-response-survey__count"),this.$submit=this.$(".component-response-survey__actions button").prop("disabled",!0),this.list=new u.a({autoRemove:!0,className:"component-response-survey__response-list",collection:this.model.polls,viewClass:function(){return l.a},viewOptions:function(){return Object.assign({},e.options)}}),this.list.render().$el.insertAfter(this.$count),this.listenTo(this.list,"all",this.trigger),w(this),g(this),this}},{key:"remove",value:function(){return this.list.remove(),h(b(a.prototype),"remove",this).apply(this,arguments)}}])&&d(t.prototype,n),i&&d(t,i),a}(o.a.View)},1250:function(e,t){e.exports=function(){return function(e){return function(){var e;return(e=[]).push("<div class='component-response-survey__count' aria-live='polite'></div>\n<div class='component-response-survey__actions'>\n  <button type='submit'>Submit survey</button>\n</div>"),e.join("\n").replace(/\s(?:id|class)=(['"])(\1)/gm,"")}.call(e)}}.call(this)},1452:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return z}));var r,i=n(1054),o=n.n(i),s=n(6),a=n(1515),c=n(447),l=n(1072),u=n(1025),f=n(1023),p=n(1047),d=n(16),h=n(1033),m=n(1024),y=n(1035),v=n(46);n(1453),n(1455);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=j(e);if(t){var i=j(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return O(this,n)}}function O(e,t){if(t&&("object"===b(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _(e)}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(){E=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){["method","field"].forEach((function(n){t.forEach((function(t){t.kind===n&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var n=e.prototype;["method","field"].forEach((function(r){t.forEach((function(t){var i=t.placement;if(t.kind===r&&("static"===i||"prototype"===i)){var o="static"===i?e:n;this.defineClassElement(o,t)}}),this)}),this)},defineClassElement:function(e,t){var n=t.descriptor;if("field"===t.kind){var r=t.initializer;n={enumerable:n.enumerable,writable:n.writable,configurable:n.configurable,value:void 0===r?void 0:r.call(e)}}Object.defineProperty(e,t.key,n)},decorateClass:function(e,t){var n=[],r=[],i={static:[],prototype:[],own:[]};if(e.forEach((function(e){this.addElementPlacement(e,i)}),this),e.forEach((function(e){if(!T(e))return n.push(e);var t=this.decorateElement(e,i);n.push(t.element),n.push.apply(n,t.extras),r.push.apply(r,t.finishers)}),this),!t)return{elements:n,finishers:r};var o=this.decorateConstructor(n,t);return r.push.apply(r,o.finishers),o.finishers=r,o},addElementPlacement:function(e,t,n){var r=t[e.placement];if(!n&&-1!==r.indexOf(e.key))throw new TypeError("Duplicated element ("+e.key+")");r.push(e.key)},decorateElement:function(e,t){for(var n=[],r=[],i=e.decorators,o=i.length-1;o>=0;o--){var s=t[e.placement];s.splice(s.indexOf(e.key),1);var a=this.fromElementDescriptor(e),c=this.toElementFinisherExtras((0,i[o])(a)||a);e=c.element,this.addElementPlacement(e,t),c.finisher&&r.push(c.finisher);var l=c.extras;if(l){for(var u=0;u<l.length;u++)this.addElementPlacement(l[u],t);n.push.apply(n,l)}}return{element:e,finishers:r,extras:n}},decorateConstructor:function(e,t){for(var n=[],r=t.length-1;r>=0;r--){var i=this.fromClassDescriptor(e),o=this.toClassDescriptor((0,t[r])(i)||i);if(void 0!==o.finisher&&n.push(o.finisher),void 0!==o.elements){e=o.elements;for(var s=0;s<e.length-1;s++)for(var a=s+1;a<e.length;a++)if(e[s].key===e[a].key&&e[s].placement===e[a].placement)throw new TypeError("Duplicated element ("+e[s].key+")")}}return{elements:e,finishers:n}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return Object.defineProperty(t,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return(t=e,function(e){if(Array.isArray(e))return e}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return $(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map((function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var n=C(e.key),r=String(e.placement);if("static"!==r&&"prototype"!==r&&"own"!==r)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+r+'"');var i=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var o={kind:t,key:n,placement:r,descriptor:Object.assign({},i)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(i,"get","The property descriptor of a field descriptor"),this.disallowProperty(i,"set","The property descriptor of a field descriptor"),this.disallowProperty(i,"value","The property descriptor of a field descriptor"),o.initializer=e.initializer),o},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:R(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:e.map(this.fromElementDescriptor,this)};return Object.defineProperty(t,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var n=R(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:n}},runClassFinishers:function(e,t){for(var n=0;n<t.length;n++){var r=(0,t[n])(e);if(void 0!==r){if("function"!=typeof r)throw new TypeError("Finishers must return a constructor.");e=r}}return e},disallowProperty:function(e,t,n){if(void 0!==e[t])throw new TypeError(n+" can't have a ."+t+" property.")}};return e}function P(e){var t,n=C(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var r={kind:"field"===e.kind?"field":"method",key:n,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(r.decorators=e.decorators),"field"===e.kind&&(r.initializer=e.value),r}function S(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function T(e){return e.decorators&&e.decorators.length}function x(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function R(e,t){var n=e[t];if(void 0!==n&&"function"!=typeof n)throw new TypeError("Expected '"+t+"' to be a function");return n}function C(e){var t=function(e,t){if("object"!==b(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==b(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===b(t)?t:String(t)}function $(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var A="results_email_dismissed";function D(e){"get-started"===(e.detail||e.originalEvent.detail).name&&Object(l.a)("".concat(s.a.get("api_url"),"signup?user[role]=presenter&rtm_source=pe-edge-card&usrc=result_edge_card"))}function N(){o.a.session.set(A,!0),this.querySelector("pe-edge-card").setAttribute("state","closed")}function z(){var e,t=f.a.getState(),n=u.a.selectIsLoggedIn(t)&&!t[u.a.name].account,r="embed"===f.a.getState()[m.a.name].role;return!(null!==(e=window.Capacitor)&&void 0!==e&&e.isNative)&&!r&&!o.a.session.get(A)&&Object(y.b)(t).webBranded&&n}var I=function(e,t,n,r){var i=E();if(r)for(var o=0;o<r.length;o++)i=r[o](i);var s=t((function(e){i.initializeInstanceElements(e,a.elements)}),n),a=i.decorateClass(function(e){for(var t=[],n=function(e){return"method"===e.kind&&e.key===o.key&&e.placement===o.placement},r=0;r<e.length;r++){var i,o=e[r];if("method"===o.kind&&(i=t.find(n)))if(x(o.descriptor)||x(i.descriptor)){if(T(o)||T(i))throw new ReferenceError("Duplicated methods ("+o.key+") can't be decorated.");i.descriptor=o.descriptor}else{if(T(o)){if(T(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+o.key+").");i.decorators=o.decorators}S(o,i)}else t.push(o)}return t}(s.d.map(P)),e);return i.initializeClassElements(s.F,a.elements),i.runClassFinishers(s.F,a.finishers)}(null,(function(e,t){return{F:function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(r,t);var n=k(r);function r(){var t;g(this,r);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return t=n.call.apply(n,[this].concat(o)),e(_(t)),t}return r}(t),d:[{kind:"field",static:!0,key:"tagName",value:function(){return"pec-response-marketing"}},{kind:"field",decorators:[Object(d.d)({type:Boolean,reflect:!0})],key:"responded",value:function(){return!1}},{kind:"field",decorators:[Object(d.c)({type:Boolean})],key:"activityMarketable",value:function(){return!1}},{kind:"method",key:"stateChanged",value:function(e){var t=e[p.f.name].showPinned?Object(p.c)(e):Object(p.a)(e);this.activityMarketable=t&&!function(e){return["survey","competition"].includes(e.type)||!!e.isCompetition}(t)&&!!t.showBranding}},{kind:"method",key:"createRenderRoot",value:function(){return this}},{kind:"method",key:"render",value:function(){var e,t,n=this;return this.responded&&this.activityMarketable?(Object(c.d)(this,Object(a.a)("cta_rendered")),Object(d.b)(r||(e=["<pe-edge-card\n      title='Create your own presentation'\n      description='Get people talking in your next meeting, event, or lesson!'\n      primary-cta='Get started'\n      secondary-cta='Not now'\n      state='closed'\n      start='collapsing'\n      @click:expanded=","\n      @click:primary-cta=","\n      @click:secondary-cta=","\n    ></pe-edge-card>"],t||(t=e.slice(0)),r=Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))),(function(){return Object(c.d)(n,Object(a.a)("expanded_clicked"))}),D,N)):""}}]}}),Object(h.a)(f.a)(d.a));Object(v.a)(e,I.tagName,I)}).call(this,n(87)(e))},1453:function(e,t,n){"use strict";(function(e){var t,r,i,o=n(9),s=n(46),a=n(57);n(339),n(1034),n(1454);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){if(t&&("object"===c(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function d(e){var t="function"==typeof Map?new Map:void 0;return(d=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return h(e,arguments,v(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),y(r,e)})(e)}function h(e,t,n){return(h=m()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&y(i,n.prototype),i}).apply(null,arguments)}function m(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(a,e);var t,n,r,i,o,s=(t=a,n=m(),function(){var e,r=v(t);if(n){var i=v(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return p(this,e)});function a(){return u(this,a),s.apply(this,arguments)}return r=a,o=[{key:"tagName",get:function(){return"pe-edge-card"}},{key:"observedAttributes",get:function(){return["title","description","primary-cta","secondary-cta","state","input-type","input-placeholder","input-default","image-name"]}}],(i=[{key:"connectedCallback",value:function(){this.isConnected&&(this.hasAttribute("state")&&_(this.getAttribute("state"))||this.setAttribute("state","collapsed"),this.hasAttribute("start")&&(this.setAttribute("state",function(e){if(!e)return"collapsed";switch(e.charAt(e.length-1)){case"e":return e+"d";default:return e+"ed"}}(O(this.getAttribute("start")))),this.removeAttribute("start")),g(this,this.firstElementChild.className))}},{key:"attributeChangedCallback",value:function(e,t,n){var r=E();"state"===e&&_(n)?r="".concat(k(t,n)):"state"===e&&(r="".concat(k("collapsed"))),g(this,r)}}])&&f(r.prototype,i),o&&f(r,o),a}(d(HTMLElement));function g(e,n){Object(o.k)(function(e,n){return Object(o.i)(t||(t=l(["<div class="," @click=",">\n      <div class=",">\n        <pe-graphic type='icon' name='arrow-down'></pe-graphic>\n      </div>\n      <div class=",">\n        <div class=",">\n          <div class=",">\n            <h1>","</h1>\n            <p>","</p>\n          </div>\n          <div class=",">\n            ","\n          </div>\n          <div class=",">\n            ","\n          </div>\n        </div>\n        <div class=",">\n          <pe-graphic type='illustration' name=","></pe-graphic>\n        </div>\n      </div>\n    </div>"])),n,j,E("toggle-row"),E("main-row"),E("content-column"),E("title-row"),e.getAttribute("title"),e.getAttribute("description"),E("input-row"),function(e,t,n){if(!e)return;return Object(o.i)(r||(r=l(["<pe-text-field\n                type=","\n                required\n                placeholder=","\n                value=","\n              ></pe-text-field>"])),e,t||"",n||"")}(e.getAttribute("input-type"),e.getAttribute("input-placeholder"),e.getAttribute("input-default")),E("button-row"),function(e){return Object.keys(w).filter((function(t){return e.hasAttribute(t)})).map((function(t){var n,r,s=e.getAttribute(t);return Object(o.i)(i||(i=l(["<button @click=",'\n        class="'," ",'"\n        name=',">\n          ","\n      </button>"])),(n=t,r=w[t].validate,function(e){var t=e.currentTarget,i=t.getAttribute("name"),o=t.closest(b.tagName).getElementsByTagName("pe-text-field")[0];r&&(null==o||o.validate());var s=new CustomEvent("click:".concat(n),{bubbles:!0,detail:{name:i,value:null==o?void 0:o.value,valid:null==o?void 0:o.valid}});t.dispatchEvent(s)}),E("button"),w[t].style,s.toLowerCase().replace(" ","-"),s)}))}(e),E("image-column"),e.getAttribute("image-name")||"presentation")}(e,n),e)}var w={"primary-cta":{style:"element-button element-button--white",validate:!0},"secondary-cta":{style:"element-button element-button--white-outline",validate:!1}};function k(e,t){return"".concat(E(e!==t&&e?t?["".concat(O(t),"-").concat(e,"-animation")]:[e]:[t]))}function O(e){if(!e)return"collapse";switch(e){case"expanded":return e.substring(0,e.length-2);case"expanding":return e.substring(0,e.length-3);case"collapsed":return e.substring(0,e.length-1);case"collapsing":return e.substring(0,e.length-3)+"e";case"closed":return e.substring(0,e.length-1);case"closing":return e.substring(0,e.length-3)+"e";default:return"collapse"}}function _(e){return["collapsed","expanded","closed"].includes(e)}function j(e){var t=e.currentTarget,n=e.srcElement,r=t.closest(b.tagName);if("button"!==(null==n?void 0:n.tagName.toLowerCase())&&"input"!==(null==n?void 0:n.tagName.toLowerCase())){var i=function(e){return"collapsed"===e.getAttribute("state")?function(e){e.setAttribute("state","expanded")}(e):function(e){e.setAttribute("state","collapsed")}(e),e.getAttribute("state")}(r),o=new CustomEvent("click:".concat(i),{bubbles:!0,detail:{name:i}});this.dispatchEvent(o)}else e.stopPropagation()}var E=Object(a.a)(b.tagName);Object(s.a)(e,b.tagName,b)}).call(this,n(87)(e))},1454:function(e,t,n){},1455:function(e,t,n){},1456:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r,i=n(9);function o(){return Object(i.i)(r||(e=["\n    <div class='element-skeleton-wrapper'>\n      <div class='element-skeleton-progress' style='width:100%;height:40px'></div>\n      <div class='pollev-response__main'>\n        <div class='element-skeleton-progress' style='width:70%;margin-top:2rem;height:1.5rem;'></div>\n        <div class='element-skeleton-progress' style='margin-top:1rem;'></div>\n        <div class='element-skeleton-progress'></div>\n      </div>\n    </div>"],t||(t=e.slice(0)),r=Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))));var e,t}},1457:function(e,t,n){"use strict";n.d(t,"a",(function(){return w})),n.d(t,"c",(function(){return k})),n.d(t,"b",(function(){return O}));var r,i,o=n(1023),s=n(9),a=n(1054),c=n.n(a),l=n(1094),u=n(1035),f=n(1047),p=n(1102),d=n(1117),h=n(1024),m=n(1025);n(492),n(1458);function y(e,t,n,r,i,o,s){try{var a=e[o](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,i)}function v(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function s(e){y(o,r,i,s,a,"next",e)}function a(e){y(o,r,i,s,a,"throw",e)}s(void 0)}))}}function b(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function g(){var e=o.a.getState(),t=e[h.a.name].page;if("static_response"===t){var n=Object(f.a)(e);c.a.session.set("loginReturnTo",{page:t,type:null==n?void 0:n.type,participantKey:null==n?void 0:n.participantKey})}else c.a.session.set("loginReturnTo",{page:t,login:Object(u.b)(e).login})}function w(){var e=o.a.getState();g("registerReturnTo"),Object(p.a)().enterRegisterFlow(Object(u.b)(e).login)}function k(){var e=Object(u.b)(o.a.getState()).login;return Object(s.i)(r||(r=b(["\n    <advisory-message\n      autofocus\n      icon='error'\n      iconType='legacy-glyph'\n      subject='Register for credit'\n      message='To receive credit for responses given to "," you must register with the presenter. Click Register below.'\n      resolutionLabel='Register'\n      abortLabel='Skip for now'\n      @resolve=","\n      @abort=","\n    ></advisory-message>\n  "])),e,(function(){return w()}),(function(){return o.a.dispatch(f.f.toggleSkipRegister(!0))}))}function O(){var e=o.a.getState(),t=Object(u.i)(e),n="embed"===e[h.a.name].role,r=m.a.selectIsLoggedIn(e),a=t.samlLoginUrl,c=Object(u.b)(e).name,p="\n    ".concat(r?"This Poll Everywhere account has not been pre-registered with ".concat(c,"."):"Please log in to the Poll Everywhere account registered with ".concat(c," to respond."),"\n   For assistance contact ").concat(c,".\n  ");return Object(s.i)(i||(i=b(["\n    <advisory-message\n      autofocus\n      icon='error'\n      iconType='legacy-glyph'\n      subject='Pre-registration required'\n      message=","\n      resolutionLabel=","\n      @resolve=","\n    ></advisory-message>\n  "])),p,r?"":a&&!n?"Log in with SSO":"Log in",v(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=13;break}return o.a.dispatch(f.f.toggleOutOfBandPending(!0)),e.prev=2,e.next=5,Object(d.a)();case 5:window.location.reload(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),console.error("OOB ERROR",e.t0);case 11:e.next=15;break;case 13:g(),a?(Object(l.e)(Object(l.a)(a,"participant")),o.a.dispatch(h.a.pageUpdated("login"))):o.a.dispatch(h.a.pageUpdated("login"));case 15:case"end":return e.stop()}}),e,null,[[2,8]])}))))}},1458:function(e,t,n){},1459:function(e,t,n){"use strict";(function(e){var t,r=n(1023),i=n(1056),o=n(1035),s=n(1047),a=n(1164),c=n(1025),l=n(1024),u=n(16),f=n(46),p=n(57),d=n(447);n(339),n(1460);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=x(e);if(t){var i=x(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return b(this,n)}}function b(e,t){if(t&&("object"===h(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return g(e)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(){w=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){["method","field"].forEach((function(n){t.forEach((function(t){t.kind===n&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var n=e.prototype;["method","field"].forEach((function(r){t.forEach((function(t){var i=t.placement;if(t.kind===r&&("static"===i||"prototype"===i)){var o="static"===i?e:n;this.defineClassElement(o,t)}}),this)}),this)},defineClassElement:function(e,t){var n=t.descriptor;if("field"===t.kind){var r=t.initializer;n={enumerable:n.enumerable,writable:n.writable,configurable:n.configurable,value:void 0===r?void 0:r.call(e)}}Object.defineProperty(e,t.key,n)},decorateClass:function(e,t){var n=[],r=[],i={static:[],prototype:[],own:[]};if(e.forEach((function(e){this.addElementPlacement(e,i)}),this),e.forEach((function(e){if(!_(e))return n.push(e);var t=this.decorateElement(e,i);n.push(t.element),n.push.apply(n,t.extras),r.push.apply(r,t.finishers)}),this),!t)return{elements:n,finishers:r};var o=this.decorateConstructor(n,t);return r.push.apply(r,o.finishers),o.finishers=r,o},addElementPlacement:function(e,t,n){var r=t[e.placement];if(!n&&-1!==r.indexOf(e.key))throw new TypeError("Duplicated element ("+e.key+")");r.push(e.key)},decorateElement:function(e,t){for(var n=[],r=[],i=e.decorators,o=i.length-1;o>=0;o--){var s=t[e.placement];s.splice(s.indexOf(e.key),1);var a=this.fromElementDescriptor(e),c=this.toElementFinisherExtras((0,i[o])(a)||a);e=c.element,this.addElementPlacement(e,t),c.finisher&&r.push(c.finisher);var l=c.extras;if(l){for(var u=0;u<l.length;u++)this.addElementPlacement(l[u],t);n.push.apply(n,l)}}return{element:e,finishers:r,extras:n}},decorateConstructor:function(e,t){for(var n=[],r=t.length-1;r>=0;r--){var i=this.fromClassDescriptor(e),o=this.toClassDescriptor((0,t[r])(i)||i);if(void 0!==o.finisher&&n.push(o.finisher),void 0!==o.elements){e=o.elements;for(var s=0;s<e.length-1;s++)for(var a=s+1;a<e.length;a++)if(e[s].key===e[a].key&&e[s].placement===e[a].placement)throw new TypeError("Duplicated element ("+e[s].key+")")}}return{elements:e,finishers:n}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return Object.defineProperty(t,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return(t=e,function(e){if(Array.isArray(e))return e}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?S(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map((function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var n=P(e.key),r=String(e.placement);if("static"!==r&&"prototype"!==r&&"own"!==r)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+r+'"');var i=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var o={kind:t,key:n,placement:r,descriptor:Object.assign({},i)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(i,"get","The property descriptor of a field descriptor"),this.disallowProperty(i,"set","The property descriptor of a field descriptor"),this.disallowProperty(i,"value","The property descriptor of a field descriptor"),o.initializer=e.initializer),o},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:E(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:e.map(this.fromElementDescriptor,this)};return Object.defineProperty(t,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var n=E(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:n}},runClassFinishers:function(e,t){for(var n=0;n<t.length;n++){var r=(0,t[n])(e);if(void 0!==r){if("function"!=typeof r)throw new TypeError("Finishers must return a constructor.");e=r}}return e},disallowProperty:function(e,t,n){if(void 0!==e[t])throw new TypeError(n+" can't have a ."+t+" property.")}};return e}function k(e){var t,n=P(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var r={kind:"field"===e.kind?"field":"method",key:n,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(r.decorators=e.decorators),"field"===e.kind&&(r.initializer=e.value),r}function O(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function _(e){return e.decorators&&e.decorators.length}function j(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function E(e,t){var n=e[t];if(void 0!==n&&"function"!=typeof n)throw new TypeError("Expected '"+t+"' to be a function");return n}function P(e){var t=function(e,t){if("object"!==h(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==h(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===h(t)?t:String(t)}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function T(e,t,n){return(T="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=x(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function R(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e?e.titleHidden?"Activity title hidden":e.title:t}function C(e){Object(d.d)(this,"toggle:show_pinned_activity:".concat(e?"true":"false")),r.a.dispatch(s.f.togglePinned(e))}var $=function(e,t,n,r){var i=w();if(r)for(var o=0;o<r.length;o++)i=r[o](i);var s=t((function(e){i.initializeInstanceElements(e,a.elements)}),n),a=i.decorateClass(function(e){for(var t=[],n=function(e){return"method"===e.kind&&e.key===o.key&&e.placement===o.placement},r=0;r<e.length;r++){var i,o=e[r];if("method"===o.kind&&(i=t.find(n)))if(j(o.descriptor)||j(i.descriptor)){if(_(o)||_(i))throw new ReferenceError("Duplicated methods ("+o.key+") can't be decorated.");i.descriptor=o.descriptor}else{if(_(o)){if(_(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+o.key+").");i.decorators=o.decorators}O(o,i)}else t.push(o)}return t}(s.d.map(k)),e);return i.initializeClassElements(s.F,a.elements),i.runClassFinishers(s.F,a.finishers)}(null,(function(e,n){var i=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(r,t);var n=v(r);function r(){var t;m(this,r);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return t=n.call.apply(n,[this].concat(o)),e(g(t)),t}return r}(n);return{F:i,d:[{kind:"field",static:!0,key:"tagName",value:function(){return"pec-response-presenter-bar"}},{kind:"field",decorators:[Object(u.d)({type:String,reflect:!0})],key:"role",value:function(){return"navigation"}},{kind:"field",decorators:[Object(u.d)({type:String,reflect:!0,attribute:"aria-label"})],key:"ariaLabel",value:function(){return"Presenter session control"}},{kind:"field",decorators:[Object(u.d)({type:String,reflect:!0,attribute:"aria-live"})],key:"ariaLive",value:function(){return"polite"}},{kind:"field",decorators:[Object(u.d)({type:String,reflect:!0})],key:"tabindex",value:function(){return"-1"}},{kind:"field",decorators:[Object(u.d)({type:Boolean,reflect:!0})],key:"hidden",value:function(){return!1}},{kind:"field",decorators:[Object(u.c)({type:String})],key:"screenName",value:void 0},{kind:"field",decorators:[Object(u.c)({type:Boolean})],key:"exposeLogout",value:void 0},{kind:"field",decorators:[Object(u.c)({type:Boolean})],key:"showingPinned",value:void 0},{kind:"field",decorators:[Object(u.c)({type:Boolean})],key:"hasPinnedActivity",value:void 0},{kind:"field",decorators:[Object(u.c)({type:String})],key:"currentActivityTitle",value:void 0},{kind:"field",decorators:[Object(u.c)({type:String})],key:"pinnedActivityTitle",value:void 0},{kind:"field",decorators:[Object(u.c)({type:Boolean})],key:"highlightCurrent",value:function(){return!1}},{kind:"field",decorators:[Object(u.c)({type:String})],key:"presenterLogin",value:void 0},{kind:"method",key:"stateChanged",value:function(e){var t=Object(s.c)(e);this.screenNamesEnabled=Object(a.a)(e),this.screenName=Object(o.j)(e),this.exposeLogout=c.a.selectIsLoggedIn(e)&&"embed"===e[l.a.name].role,this.hasPinnedActivity=!!t,this.showingPinned=e[s.f.name].showPinned,this.currentActivityTitle=R(Object(s.a)(e),"Waiting…"),this.pinnedActivityTitle=R(t),this.presenterLogin=Object(o.b)(e).login}},{kind:"method",key:"createRenderRoot",value:function(){return this}},{kind:"method",key:"connectedCallback",value:function(){var e=this;T(x(i.prototype),"connectedCallback",this).call(this),this.updateComplete.then((function(){return e.focus()}))}},{kind:"method",key:"updated",value:function(e){e.has("currentActivityTitle")&&this.showingPinned&&(this.highlightCurrent=!0),e.has("showingPinned")&&!this.showingPinned&&(this.highlightCurrent=!1)}},{kind:"method",key:"render",value:function(){var e,n,i=this;return this.hidden=!this.screenNamesEnabled&&!this.hasPinnedActivity,Object(u.b)(t||(e=['\n      <button type="button"\n        class=','\n        aria-label="Logout"\n        title="Logout"\n        @click=',"\n        ?hidden=","\n      >\n        <pe-graphic type=icon name=exit></pe-graphic>\n      </button>\n      <div class=",'></div>\n      <div role="tablist" class=',' aria-label="Switch between live and pinned activities" ?hidden=','>\n        <button type="button"\n          role="tab"\n          class=',"\n          @click=",'\n          aria-pressed="','"\n          aria-describedby=',"\n        >",'</button>\n        <button type="button"\n          role="tab"\n          class=',"\n          @click=",'\n          aria-pressed="','"\n          aria-describedby=',"\n        ><pe-graphic type=icon name=pin></pe-graphic> ","</button>\n      </div>\n      <div class=",'></div>\n      <button type="button"\n        title="Configure screen name"\n        class=',"\n        @click=","\n        ?hidden=","\n      >\n        <span ?hidden=",">\n          Responding as ",'\n        </span>\n        <pe-graphic type=text name="','"></pe-graphic>\n      </button>\n      <span hidden id=',">Current live activity for ",", select this tab to show the activity below</span>\n      <span hidden id=",">Pinned, and always available, Q&A for ",", select this tab to show the activity below</span>\n    "],n||(n=e.slice(0)),t=Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))),A("logout"),(function(){return r.a.dispatch(l.a.pageUpdated("logout"))}),!this.exposeLogout,A("spacer"),A("tabs"),!this.hasPinnedActivity,A("tab",{updated:this.highlightCurrent}),(function(){return C.call(i,!1)}),this.showingPinned?"false":"true",A("current-tab"),this.currentActivityTitle,A("tab"),(function(){return C.call(i,!0)}),this.showingPinned?"true":"false",A("pinned-tab"),this.pinnedActivityTitle,A("spacer"),A("screen-name"),(function(){return r.a.dispatch(s.f.toggleScreenNameEdit())}),!this.screenNamesEnabled,this.hasPinnedActivity,this.screenName,function(e){if(e){var t=e.split(" ");return t.length>1?t[0].slice(0,1)+t[1].slice(0,1):e.slice(0,2)}return"--"}(this.screenName),A("current-tab"),this.presenterLogin,A("pinned-tab"),this.presenterLogin)}}]}}),Object(i.a)(r.a)(u.a)),A=Object(p.a)($.tagName);Object(f.a)(e,$.tagName,$)}).call(this,n(87)(e))},1460:function(e,t,n){},1461:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return F}));var r,i=n(6),o=n(1505),s=n(1050),a=n(447),c=n(1023),l=n(1025),u=n(16),f=n(1033),p=n(46),d=n(1180),h=n(1035),m=n(400),y=n(1148),v=n(1102);n(1477);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=D(e);if(t){var i=D(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return O(this,n)}}function O(e,t){if(t&&("object"===b(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return j(e)}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(){E=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){["method","field"].forEach((function(n){t.forEach((function(t){t.kind===n&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var n=e.prototype;["method","field"].forEach((function(r){t.forEach((function(t){var i=t.placement;if(t.kind===r&&("static"===i||"prototype"===i)){var o="static"===i?e:n;this.defineClassElement(o,t)}}),this)}),this)},defineClassElement:function(e,t){var n=t.descriptor;if("field"===t.kind){var r=t.initializer;n={enumerable:n.enumerable,writable:n.writable,configurable:n.configurable,value:void 0===r?void 0:r.call(e)}}Object.defineProperty(e,t.key,n)},decorateClass:function(e,t){var n=[],r=[],i={static:[],prototype:[],own:[]};if(e.forEach((function(e){this.addElementPlacement(e,i)}),this),e.forEach((function(e){if(!T(e))return n.push(e);var t=this.decorateElement(e,i);n.push(t.element),n.push.apply(n,t.extras),r.push.apply(r,t.finishers)}),this),!t)return{elements:n,finishers:r};var o=this.decorateConstructor(n,t);return r.push.apply(r,o.finishers),o.finishers=r,o},addElementPlacement:function(e,t,n){var r=t[e.placement];if(!n&&-1!==r.indexOf(e.key))throw new TypeError("Duplicated element ("+e.key+")");r.push(e.key)},decorateElement:function(e,t){for(var n=[],r=[],i=e.decorators,o=i.length-1;o>=0;o--){var s=t[e.placement];s.splice(s.indexOf(e.key),1);var a=this.fromElementDescriptor(e),c=this.toElementFinisherExtras((0,i[o])(a)||a);e=c.element,this.addElementPlacement(e,t),c.finisher&&r.push(c.finisher);var l=c.extras;if(l){for(var u=0;u<l.length;u++)this.addElementPlacement(l[u],t);n.push.apply(n,l)}}return{element:e,finishers:r,extras:n}},decorateConstructor:function(e,t){for(var n=[],r=t.length-1;r>=0;r--){var i=this.fromClassDescriptor(e),o=this.toClassDescriptor((0,t[r])(i)||i);if(void 0!==o.finisher&&n.push(o.finisher),void 0!==o.elements){e=o.elements;for(var s=0;s<e.length-1;s++)for(var a=s+1;a<e.length;a++)if(e[s].key===e[a].key&&e[s].placement===e[a].placement)throw new TypeError("Duplicated element ("+e[s].key+")")}}return{elements:e,finishers:n}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return Object.defineProperty(t,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return(t=e,function(e){if(Array.isArray(e))return e}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return $(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map((function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var n=C(e.key),r=String(e.placement);if("static"!==r&&"prototype"!==r&&"own"!==r)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+r+'"');var i=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var o={kind:t,key:n,placement:r,descriptor:Object.assign({},i)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(i,"get","The property descriptor of a field descriptor"),this.disallowProperty(i,"set","The property descriptor of a field descriptor"),this.disallowProperty(i,"value","The property descriptor of a field descriptor"),o.initializer=e.initializer),o},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:R(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:e.map(this.fromElementDescriptor,this)};return Object.defineProperty(t,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var n=R(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:n}},runClassFinishers:function(e,t){for(var n=0;n<t.length;n++){var r=(0,t[n])(e);if(void 0!==r){if("function"!=typeof r)throw new TypeError("Finishers must return a constructor.");e=r}}return e},disallowProperty:function(e,t,n){if(void 0!==e[t])throw new TypeError(n+" can't have a ."+t+" property.")}};return e}function P(e){var t,n=C(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var r={kind:"field"===e.kind?"field":"method",key:n,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(r.decorators=e.decorators),"field"===e.kind&&(r.initializer=e.value),r}function S(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function T(e){return e.decorators&&e.decorators.length}function x(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function R(e,t){var n=e[t];if(void 0!==n&&"function"!=typeof n)throw new TypeError("Expected '"+t+"' to be a function");return n}function C(e){var t=function(e,t){if("object"!==b(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==b(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===b(t)?t:String(t)}function $(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function A(e,t,n){return(A="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=D(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function D(e){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function N(e){return"survey"===e.type()?e.get("is_full_page")?"one_page_survey":"multi_page_survey":"private_link"}function z(e){return"survey"===e.type()?e.get("is_full_page")?"activated_one_page_survey":"activated_multi_page_survey":"pollev_page"}var I=function(e,t){var n;t.indexOf("@")>-1&&i.a.ios()&&(null===(n=window.Capacitor)||void 0===n?void 0:n.isNative)||Object(s.b)(e,{title:"Response saved",content:t,type:"success"})},B=function(e,t){Object(s.b)(e,{title:"Error",content:t,type:"error"})};function M(){var e=this,t=this.pinned?d.a.getPinned():d.a.getCurrent();if(t){var n=new o.a({model:t,user:Object(v.a)().user,live:!1,source:this.pinned?"pinned_activity":this.staticResponsePage?N(t):z(t),registrationInfo:this.registrationInfoModel,leaderboard:L(t)});n.on("message",_.partial(I,this)),n.on("error",_.partial(B,this)),n.on("progress",(function(){Object(s.a)(e)})),n.on("view:action",(function(t,n,r){Object(a.d)(e,t,n)})),n.on("result",(function(t){!function(e){var t=new CustomEvent("result",{bubbles:!0,detail:{results:arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]}});e.dispatchEvent(t)}(e,Array.isArray(t)?t:[t])})),n.render(),this.responseView=n}}function L(e){var t;return"competition"===e.type()?t=e.leaderboard:e.competition&&(t=e.competition.leaderboard),t&&!t.options.participantId&&(t.options.participantId=c.a.getState()[l.a.name].participant.id),t}var F=function(e,t,n,r){var i=E();if(r)for(var o=0;o<r.length;o++)i=r[o](i);var s=t((function(e){i.initializeInstanceElements(e,a.elements)}),n),a=i.decorateClass(function(e){for(var t=[],n=function(e){return"method"===e.kind&&e.key===o.key&&e.placement===o.placement},r=0;r<e.length;r++){var i,o=e[r];if("method"===o.kind&&(i=t.find(n)))if(x(o.descriptor)||x(i.descriptor)){if(T(o)||T(i))throw new ReferenceError("Duplicated methods ("+o.key+") can't be decorated.");i.descriptor=o.descriptor}else{if(T(o)){if(T(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+o.key+").");i.decorators=o.decorators}S(o,i)}else t.push(o)}return t}(s.d.map(P)),e);return i.initializeClassElements(s.F,a.elements),i.runClassFinishers(s.F,a.finishers)}(null,(function(e,t){var n=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(r,t);var n=k(r);function r(){var t;g(this,r);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return t=n.call.apply(n,[this].concat(o)),e(j(t)),t}return r}(t);return{F:n,d:[{kind:"field",static:!0,key:"tagName",value:function(){return"pec-response-activity"}},{kind:"field",decorators:[Object(u.d)({type:String,reflect:!0})],key:"tabindex",value:function(){return"-1"}},{kind:"field",decorators:[Object(u.d)({type:Boolean,reflect:!0,attribute:"static-response-page"})],key:"staticResponsePage",value:function(){return!1}},{kind:"field",decorators:[Object(u.d)({type:Boolean,reflect:!0})],key:"pinned",value:function(){return!1}},{kind:"field",decorators:[Object(u.d)({type:Object})],key:"responseView",value:void 0},{kind:"field",decorators:[Object(u.c)({type:Object})],key:"registrationInfo",value:void 0},{kind:"method",key:"stateChanged",value:function(e){this.registrationInfo=Object(h.i)(e)}},{kind:"method",key:"createRenderRoot",value:function(){return this}},{kind:"method",key:"connectedCallback",value:function(){A(D(n.prototype),"connectedCallback",this).call(this),this.registrationInfoModel||(this.registrationInfoModel=new m.a(Object(y.a)(this.registrationInfo)))}},{kind:"method",key:"updated",value:function(e){e.has("registrationInfo")&&this.registrationInfoModel.set(Object(y.a)(this.registrationInfo))}},{kind:"method",key:"render",value:function(){var e,t,n;return this.responseView||M.call(this),Object(u.b)(r||(t=["",""],n||(n=t.slice(0)),r=Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(n)}}))),null===(e=this.responseView)||void 0===e?void 0:e.el)}},{kind:"method",key:"cleanup",value:function(){try{var e;null===(e=this.responseView)||void 0===e||e.remove()}catch(e){var t;null===(t=window)||void 0===t||t.Rollbar.warning("Error tearing down response view",e)}}}]}}),Object(f.a)(c.a)(u.a));Object(p.a)(e,F.tagName,F)}).call(this,n(87)(e))},1462:function(e,t){e.exports=function(){return function(e){return function(){var e;return(e=[]).push("<div class='component-response-survey__confirmation__image'></div>\n<div class='component-response-survey__confirmation__message'>All done!\n\nThanks for responding.</div>"),e.join("\n").replace(/\s(?:id|class)=(['"])(\1)/gm,"")}.call(e)}}.call(this)},1463:function(e,t){e.exports=function(){return function(e){return function(){var e;return(e=[]).push("<h1 class='component-response-survey__intro__title'></h1>\n<h2 class='component-response-survey__intro__subtitle'></h2>\n<div class='component-response-survey__intro__message'></div>\n<button type='submit'></button>"),e.join("\n").replace(/\s(?:id|class)=(['"])(\1)/gm,"")}.call(e)}}.call(this)},1464:function(e,t){e.exports=function(){return function(e){return function(){var e;return(e=[]).push("<div class='component-response-survey__body'>\n  <div class='component-response-survey__status' aria-live='polite'></div>\n</div>\n<div class='component-response-survey__actions'>\n  <nav class='component-response-survey__actions__container' aria-label='Survey question navigation'>\n    <button class='component-response-survey__previous' aria-label='Previous question'>Previous</button>\n    <button class='component-response-survey__next' aria-label='Next question'>Next</button>\n  </nav>\n</div>"),e.join("\n").replace(/\s(?:id|class)=(['"])(\1)/gm,"")}.call(e)}}.call(this)},1465:function(e,t){e.exports=function(){return function(e){return function(){return[].join("\n")}.call(e)}}.call(this)},1466:function(e,t,n){},1467:function(e,t){e.exports=function(){return function(e){return function(){var e;return(e=[]).push("<div class='component-response-competition-feedback__icon'></div>\n<div class='component-response-competition-feedback__message'></div>\n<div class='component-response-competition-feedback__score'>\n  <div class='component-response-competition-feedback__score-prev'></div>\n  <div class='component-response-competition-feedback__score-total'></div>\n</div>\n<div class='component-response-competition-feedback__points'></div>"),e.join("\n").replace(/\s(?:id|class)=(['"])(\1)/gm,"")}.call(e)}}.call(this)},1468:function(e,t,n){},1469:function(e,t){e.exports=function(){return function(e){return function(){var e;return(e=[]).push("<div class='component-response-competition-question__icon'></div>\n<div class='component-response-competition-question__title'></div>"),e.join("\n").replace(/\s(?:id|class)=(['"])(\1)/gm,"")}.call(e)}}.call(this)},1470:function(e,t,n){},1471:function(e,t){e.exports=function(){return function(e){return function(){var e;return(e=[]).push("<div class='component-response-competition__welcome__title'></div>\n<div class='component-response-competition__welcome__subtitle'></div>"),e.join("\n").replace(/\s(?:id|class)=(['"])(\1)/gm,"")}.call(e)}}.call(this)},1472:function(e,t,n){},1473:function(e,t,n){},1474:function(e,t){e.exports=function(){return function(e){return function(){var e;return(e=[]).push("<div class='component-response-competition-player-card__rank'></div>\n<div class='component-response-competition-player-card__player'>\n  <div class='component-response-competition-player-card__name'></div>\n  <div class='component-response-competition-player-card__score'></div>\n</div>"),e.join("\n").replace(/\s(?:id|class)=(['"])(\1)/gm,"")}.call(e)}}.call(this)},1475:function(e,t){e.exports=function(){return function(e){return function(){var e;return(e=[]).push("<div class='component-response-competition-leaderboard__header'>\n  <div class='component-response-competition-leaderboard__message'></div>\n  <div class='component-response-competition-leaderboard__rank'></div>\n</div>\n<div class='component-response-competition-leaderboard__scoreboard'>\n  <div class='component-response-competition-leaderboard__title'></div>\n  <div class='component-response-competition-leaderboard__rankings'>\n    <div class='component-response-competition-leaderboard__top10'></div>\n    <div class='component-response-competition-leaderboard__context'></div>\n  </div>\n</div>"),e.join("\n").replace(/\s(?:id|class)=(['"])(\1)/gm,"")}.call(e)}}.call(this)},1476:function(e,t){e.exports=function(){return function(e){return function(){var e;return(e=[]).push("<div class='component-response-competition__screen-name'></div>"),e.join("\n").replace(/\s(?:id|class)=(['"])(\1)/gm,"")}.call(e)}}.call(this)},1477:function(e,t,n){},1478:function(e,t,n){"use strict";(function(e){var t,r=n(1023),i=n(1035),o=n(1245),s=n(57),a=n(46),c=n(1033),l=n(16),u=n(447),f=n(1047);n(1034),n(1030),n(1479);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var i=v(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return m(this,n)}}function m(e,t){if(t&&("object"===p(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return y(e)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(){b=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){["method","field"].forEach((function(n){t.forEach((function(t){t.kind===n&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var n=e.prototype;["method","field"].forEach((function(r){t.forEach((function(t){var i=t.placement;if(t.kind===r&&("static"===i||"prototype"===i)){var o="static"===i?e:n;this.defineClassElement(o,t)}}),this)}),this)},defineClassElement:function(e,t){var n=t.descriptor;if("field"===t.kind){var r=t.initializer;n={enumerable:n.enumerable,writable:n.writable,configurable:n.configurable,value:void 0===r?void 0:r.call(e)}}Object.defineProperty(e,t.key,n)},decorateClass:function(e,t){var n=[],r=[],i={static:[],prototype:[],own:[]};if(e.forEach((function(e){this.addElementPlacement(e,i)}),this),e.forEach((function(e){if(!k(e))return n.push(e);var t=this.decorateElement(e,i);n.push(t.element),n.push.apply(n,t.extras),r.push.apply(r,t.finishers)}),this),!t)return{elements:n,finishers:r};var o=this.decorateConstructor(n,t);return r.push.apply(r,o.finishers),o.finishers=r,o},addElementPlacement:function(e,t,n){var r=t[e.placement];if(!n&&-1!==r.indexOf(e.key))throw new TypeError("Duplicated element ("+e.key+")");r.push(e.key)},decorateElement:function(e,t){for(var n=[],r=[],i=e.decorators,o=i.length-1;o>=0;o--){var s=t[e.placement];s.splice(s.indexOf(e.key),1);var a=this.fromElementDescriptor(e),c=this.toElementFinisherExtras((0,i[o])(a)||a);e=c.element,this.addElementPlacement(e,t),c.finisher&&r.push(c.finisher);var l=c.extras;if(l){for(var u=0;u<l.length;u++)this.addElementPlacement(l[u],t);n.push.apply(n,l)}}return{element:e,finishers:r,extras:n}},decorateConstructor:function(e,t){for(var n=[],r=t.length-1;r>=0;r--){var i=this.fromClassDescriptor(e),o=this.toClassDescriptor((0,t[r])(i)||i);if(void 0!==o.finisher&&n.push(o.finisher),void 0!==o.elements){e=o.elements;for(var s=0;s<e.length-1;s++)for(var a=s+1;a<e.length;a++)if(e[s].key===e[a].key&&e[s].placement===e[a].placement)throw new TypeError("Duplicated element ("+e[s].key+")")}}return{elements:e,finishers:n}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return Object.defineProperty(t,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return(t=e,function(e){if(Array.isArray(e))return e}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?E(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map((function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var n=j(e.key),r=String(e.placement);if("static"!==r&&"prototype"!==r&&"own"!==r)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+r+'"');var i=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var o={kind:t,key:n,placement:r,descriptor:Object.assign({},i)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(i,"get","The property descriptor of a field descriptor"),this.disallowProperty(i,"set","The property descriptor of a field descriptor"),this.disallowProperty(i,"value","The property descriptor of a field descriptor"),o.initializer=e.initializer),o},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:_(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:e.map(this.fromElementDescriptor,this)};return Object.defineProperty(t,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var n=_(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:n}},runClassFinishers:function(e,t){for(var n=0;n<t.length;n++){var r=(0,t[n])(e);if(void 0!==r){if("function"!=typeof r)throw new TypeError("Finishers must return a constructor.");e=r}}return e},disallowProperty:function(e,t,n){if(void 0!==e[t])throw new TypeError(n+" can't have a ."+t+" property.")}};return e}function g(e){var t,n=j(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var r={kind:"field"===e.kind?"field":"method",key:n,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(r.decorators=e.decorators),"field"===e.kind&&(r.initializer=e.value),r}function w(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function k(e){return e.decorators&&e.decorators.length}function O(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function _(e,t){var n=e[t];if(void 0!==n&&"function"!=typeof n)throw new TypeError("Expected '"+t+"' to be a function");return n}function j(e){var t=function(e,t){if("object"!==p(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==p(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===p(t)?t:String(t)}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function P(e,t,n,r,i,o,s){try{var a=e[o](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,i)}function S(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function s(e){P(o,r,i,s,a,"next",e)}function a(e){P(o,r,i,s,a,"throw",e)}s(void 0)}))}}function T(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.querySelector(".".concat(z("create"))).disabled=e,this.querySelector("pe-text-field").disabled=e}function x(){return R.apply(this,arguments)}function R(){return(R=S(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.querySelector("pe-text-field").value.trim()||"",T.call(this,!0),e.prev=2,e.next=5,r.a.dispatch(i.l.updateScreenName(t));case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),null===(n=window.Rollbar)||void 0===n||n.error("Unable to update screen name",e.t0,{input:t});case 10:this.originalScreenName&&t!==this.originalScreenName||t!==this.screenName?Object(u.d)(this,"autogenerate",{value:Object(i.j)(r.a.getState())}):Object(u.d)(this,"update",{from:this.originalScreenName,to:Object(i.j)(r.a.getState())}),T.call(this,!1),this.hide();case 13:case"end":return e.stop()}}),e,this,[[2,7]])})))).apply(this,arguments)}function C(e){return $.apply(this,arguments)}function $(){return($=S(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!this.unsetScreenName){e.next=14;break}return e.prev=2,e.next=5,r.a.dispatch(i.l.updateScreenName());case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),null===(n=window.Rollbar)||void 0===n||n.error("Unable to autogenerate screen name",e.t0);case 10:Object(u.d)(this,"autogenerate",{value:Object(i.j)(r.a.getState())}),this.hide(),e.next=16;break;case 14:this.querySelector("pe-text-field").value=Object(i.j)(r.a.getState()),this.hide();case 16:case"end":return e.stop()}}),e,this,[[2,7]])})))).apply(this,arguments)}function A(e){"Enter"!==e.key&&13!==e.keyCode||x.call(this)}function D(e){setTimeout((function(){if(e.target.value.length>50){var t=e.target.value.substring(0,50);e.target.value=t}}),0)}var N=function(e,t,n,r){var i=b();if(r)for(var o=0;o<r.length;o++)i=r[o](i);var s=t((function(e){i.initializeInstanceElements(e,a.elements)}),n),a=i.decorateClass(function(e){for(var t=[],n=function(e){return"method"===e.kind&&e.key===o.key&&e.placement===o.placement},r=0;r<e.length;r++){var i,o=e[r];if("method"===o.kind&&(i=t.find(n)))if(O(o.descriptor)||O(i.descriptor)){if(k(o)||k(i))throw new ReferenceError("Duplicated methods ("+o.key+") can't be decorated.");i.descriptor=o.descriptor}else{if(k(o)){if(k(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+o.key+").");i.decorators=o.decorators}w(o,i)}else t.push(o)}return t}(s.d.map(g)),e);return i.initializeClassElements(s.F,a.elements),i.runClassFinishers(s.F,a.finishers)}(null,(function(e,n){return{F:function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(r,t);var n=h(r);function r(){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),t=n.call(this),e(y(t)),Object(u.c)(y(t),"screen_name"),t}return r}(n),d:[{kind:"field",static:!0,key:"tagName",value:function(){return"pec-response-screen-name"}},{kind:"field",decorators:[Object(l.d)({type:Boolean,reflect:!0})],key:"new",value:function(){return!1}},{kind:"field",decorators:[Object(l.d)({type:Boolean,reflect:!0})],key:"show",value:function(){return!1}},{kind:"field",decorators:[Object(l.c)({type:String})],key:"presenter",value:void 0},{kind:"field",decorators:[Object(l.c)({type:Boolean})],key:"screenName",value:void 0},{kind:"field",decorators:[Object(l.c)({type:String})],key:"unsetScreenName",value:void 0},{kind:"method",key:"createRenderRoot",value:function(){return this}},{kind:"method",key:"stateChanged",value:function(e){this.presenter=Object(i.b)(e).login,this.unsetScreenName=Object(i.d)(e),this.screenName=Object(i.j)(e)}},{kind:"method",key:"firstUpdated",value:function(){var e=this;this.updateComplete.then((function(){var t;e.show=!0,null===(t=e.querySelector(".".concat(z("title"))))||void 0===t||t.focus()})),this.originalScreenName=this.screenName;var t=this.unsetScreenName,n=t?"new":"edit";Object(u.d)(this,"open",{mode:n}),this.new=t}},{kind:"method",key:"render",value:function(){var e,n,r=this.new?"Welcome to ".concat(this.presenter,"'s presentation!"):"Update your screen name";return Object(l.b)(t||(e=["\n      <div class=",">\n        <h1 class="," tabindex=-1>","</h1>\n      </div>\n      <div class=",">\n        <h2 class="," id='screen-name__subtitle'>","</h2>\n        <div class=",">Enter the screen name you would like to appear alongside your responses.</div>\n        <pe-text-field\n          autocomplete='name'\n          class=","\n          placeholder='Name'\n          type='text'\n          value=",'\n          aria-describedby="screen-name__subtitle"\n          char-counter\n          maxLength=',"\n          @keyup=","\n          @paste=","\n        ></pe-text-field>\n        <div class=",">\n          <pe-button @click="," class="," label=","></pe-button>\n          <pe-button @click="," type=link class="," label=","></pe-button>\n        </div>\n        <div class=",">Using a screen name allows the presenter and other participants to attach your screen name to your responses. You can change your screen name at any time.</div>\n      </div>\n    "],n||(n=e.slice(0)),t=Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))),z("header"),z("title"),r,z("main"),z("subtitle"),this.new?"Introduce yourself":"Responding as",z("description"),z("input"),this.screenName||Object(o.a)(),50,A,D,z("actions"),x,z("create"),this.new?"Continue":"Update",C,z("cancel"),this.new?"Skip":"Cancel",z("input-disclaimer"))}},{kind:"method",key:"hide",value:function(){var e=this;this.show=!1,setTimeout((function(){Object(u.d)(e,"done"),r.a.dispatch(f.f.toggleScreenNameEdit(!1))}),300)}}]}}),Object(c.a)(r.a)(l.a)),z=Object(s.a)(N.tagName);Object(a.a)(e,N.tagName,N)}).call(this,n(87)(e))},1479:function(e,t,n){},1480:function(e,t,n){},1505:function(e,t,n){"use strict";n.d(t,"a",(function(){return zn}));var r,i=n(0),o=n(1),s=n.n(o),a=n(5),c=n(447),l=n(1036),u=n(1070),f=n(1118),p=n(1069),d=n(9),h=n(1026),m=n(57),y=(n(339),n(17)),v=n.n(y);function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=j(e);if(t){var i=j(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _(this,n)}}function _(e,t){if(t&&("object"===b(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t){if(!t.is("[disabled]")){t.is("[aria-pressed=true]")&&(e="un");var n=function(){switch(e){case"up":return 1;case"down":return-1;default:return 0}}(),r=this.votes.add({result_id:this.model.id,value:n},{merge:!0});r.result=this.model,this.render(),this.trigger("vote",r)}}function P(e){var t=v()(e.currentTarget);E.call(this,"up",t)}function S(e){var t=v()(e.currentTarget);E.call(this,"down",t)}function T(){this.$el.hide(),this.model.get("batched")||this.$el.fadeIn()}var x,R,C=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(a,e);var t,n,o,s=O(a);function a(){return g(this,a),s.apply(this,arguments)}return t=a,(n=[{key:"className",get:function(){return"component-response-qa__result"}},{key:"attributes",get:function(){return{role:"listitem"}}},{key:"initialize",value:function(e){var t=e.votes,n=e.state,r=e.poll;this.votes=t,this.state=n,this.poll=r,this.bem=Object(m.a)(this.className),this.upVoteHandler=i.default.debounce(P.bind(this),500,!0),this.downVoteHandler=i.default.debounce(S.bind(this),500,!0),this.listenTo(this.model,"remove",this.remove),this.listenTo(this.state,"change",this.update),this.listenTo(this.model,"change:net_votes change:value change:participant_identifier",this.update),this.listenTo(this.votes,"update",this.update),this.listenTo(this.poll,"change:show_participants",this.update),this.listenTo(this.model,"change:batched",T.bind(this))}},{key:"update",value:function(){var e,t,n,i=this.model.get("net_votes")||0,o=null===(e=this.votes.find({result_id:this.model.id}))||void 0===e?void 0:e.get("value"),s=!(this.poll.has("show_participants")&&this.poll.get("show_participants")&&this.poll.get("registered_participants_only"));this.$el.attr("aria-label","".concat(this.model.get("value")," with ").concat(i," votes")),Object(d.k)(Object(d.i)(r||(t=["\n    <div class=",">","</div>\n    <div class=",">\n      <button\n        aria-label='Up vote'\n        class=","\n        title='Up vote'\n        @click=","\n        ?disabled=","\n        aria-pressed=","\n      >\n        <pe-graphic name="," type='icon'></pe-graphic>\n      </button>\n      <button\n        aria-label='Down vote'\n        class=","\n        title='Down vote'\n        @click=","\n        ?disabled=","\n        aria-pressed=","\n      >\n        <pe-graphic name="," type='icon'></pe-graphic>\n      </button>\n    </div>\n    <div class=",">\n      <div class=",">","</div>\n      <div class="," ?hidden=",">","</div>\n    </div>\n    "],n||(n=t.slice(0)),r=Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(n)}}))),this.bem("votes"),i,this.bem("vote"),this.bem("upvote"),this.upVoteHandler,!this.state.get("upDownVoteable"),1===o,1===o?"thumb-up-filled":"thumb-up",this.bem("downvote"),this.downVoteHandler,!this.state.get("upDownVoteable"),-1===o,-1===o?"thumb-down-filled":"thumb-down",this.bem("info"),this.bem("answer"),this.model.get("value"),this.bem("participant"),s,this.model.get("participant_identifier")),this.el,{eventContext:this.el})}},{key:"render",value:function(){return T.call(this),this.update(),this}}])&&w(t.prototype,n),o&&w(t,o),a}(s.a.View),$=n(1022);function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function D(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function z(e,t,n){return(z="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=L(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function I(e,t){return(I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function B(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=L(e);if(t){var i=L(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return M(this,n)}}function M(e,t){if(t&&("object"===A(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function L(e){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function F(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function V(){Object(d.k)(Object(d.i)(x||(x=F(["\n  <pe-graphic class='component-response-qa__preload'\n      type='icon' name='thumb-up'></pe-graphic>\n  <pe-graphic class='component-response-qa__preload'\n      type='icon' name='thumb-up-filled'></pe-graphic>\n  <pe-graphic class='component-response-qa__preload'\n      type='icon' name='thumb-down'></pe-graphic>\n  <pe-graphic class='component-response-qa__preload'\n      type='icon' name='thumb-down-filled'></pe-graphic>\n  "]))),this.el)}function q(){var e=this;this.responseView=new p.a({model:this.model,state:this.state,showResponses:!1,showSubmitButton:!0,submitOnEnter:!0,maxLength:300,disableSkeleton:this.options.disableSkeleton}),this.listenTo(this.responseView,"result",(function(e,t){var n=this;this.listenToOnce(e,"sync",(function(){var r=n.model.results.where({id:e.id});if(r.length>1){var i={},o=n.model.results.filter((function(t){return t.id!==e.id||t===e||(Object.assign(i,t.attributes,{batched:!1}),t.clear({silent:!0}),!1)}));e.set(i),e.unset("isPending"),n.model.results.set(o)}else if(1===r.length&&r[0]!==e){r[0].set({batched:!1}),X.call(n)}else e.set({batched:!1}),e.unset("isPending"),Z.call(n,n.model.results),X.call(n);n.state.collection.add(e),t.myResults&&t.myResults.add(e)})),this.trigger("result",e,t)})),this.$loadMore=this.$_element("load-more"),this.list=new h.a({collection:this.listResults,attributes:{role:"list"},viewClass:function(){return C},viewOptions:function(){return{votes:e.votes,state:e.state,poll:e.model}}});var t=H.bind(this),n=W.bind(this);Object(d.k)(Object(d.i)(R||(R=F(["\n    ",'\n    <div class="component-response-qa__response-list">\n      <div class="component-response-qa__sort element-segmented-control">\n        <label aria-label="Newest ontop" tabindex="-1">\n          <input type="radio" name=',' value="recent" @change=','></input>\n          <span>New</span>\n        </label>\n        <label aria-label="Popular on top" tabindex="-1">\n          <input type="radio" name=',' value="netVotesRecentFirst" @change=','></input>\n          <span>Top</span>\n        </label>\n      </div>\n      <button class="component-response-qa__load-more" @click=',"></button>\n      ","\n    </div>\n  "])),this.responseView.render().el,this.radioId,t,this.radioId,t,n,this.list.render().el),this.el,{eventContext:this}),this.$loadMore=this.$_element("load-more"),this.listenTo(this.list,"vote",(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.trigger.apply(e,["vote"].concat(n))})),X.call(this),K.call(this),U.call(this)}function U(){this.$_toggleModifier(null,this.className,"no-downvote",!!this.model.get("downvoting_disabled"))}function W(){this.listResults.where({batched:!0}).forEach((function(e){return e.unset("batched")})),X.call(this)}function Y(e,t){var n=e.changes.added;n.length&&0!==t&&n.forEach((function(e){!e.id||e.has("batched")||e.has("isPending")||e.set({batched:!0})})),X.call(this)}function X(){if(this.$loadMore){var e=this.listResults.where({batched:!0});this.$loadMore.prop("disabled",0===e.length),e.length?this.$loadMore.text("Load ".concat(e.length," more responses")):0===this.listResults.length?this.$loadMore.text("Waiting for responses..."):this.$loadMore.text("All caught up!")}}function H(e){this.listResults.changeSort(e.target.value),this.listResults.sort(),K.call(this)}function K(){this.listResults.comparator===this.listResults.strategies.netVotesRecentFirst?this.$(".element-segmented-control input[type=radio]").val(["netVotesRecentFirst"]):this.$(".element-segmented-control input[type=radio]").val(["recent"])}function G(e){return e.filter((function(e){return e.id&&!e.isRejected()&&!e.has("isPending")}))}function Q(){var e=this,t=this.model.results.clone(!0);return t.set(G(this.model.results)),this.listenTo(this.model.results,"change:id",(function(t,n,r){Z.call(e,e.model.results)})),this.listenTo(this.model.results,"update",(function(t,n){var r=e.listResults.length;Z.call(e,t),Y.call(e,n,r)})),t}function Z(e){e.some((function(e){return e.has("isPending")}))||this.listResults.set(G(e))}var J=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&I(e,t)}(s,e);var t,n,r,o=B(s);function s(){return D(this,s),o.apply(this,arguments)}return t=s,(n=[{key:"className",get:function(){return"component-response-qa"}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i.default.extend(this,Object($.a)(this)),this.options=i.default.defaults({},e,{votes:this.model.myVotes,state:new l.a(this.model,{collection:this.model.myResults}),disableSkeleton:!1}),this.state=this.options.state,this.votes=this.options.votes,this.radioId=Object(i.uniqueId)("sort"),this.listResults=Q.call(this),this.options.disableSkeleton||this.listenTo(this.model,"change:id",q),this.listenTo(this.model,"change:downvoting_disabled",U),V.call(this)}},{key:"remove",value:function(){return null!=this.responseView&&this.responseView.remove(),null!=this.list&&this.list.remove(),z(L(s.prototype),"remove",this).apply(this,arguments)}},{key:"render",value:function(){return this.model.isNew()&&!this.options.disableSkeleton||q.call(this),this}}])&&N(t.prototype,n),r&&N(t,r),s}(s.a.View),ee=n(1119),te=n(1462),ne=n.n(te);function re(e){return(re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function se(e,t){return(se=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ae(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=le(e);if(t){var i=le(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ce(this,n)}}function ce(e,t){if(t&&("object"===re(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function le(e){return(le=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ue=function(e){var t=e.model.get("custom_confirmation_message");if(null!=t)return e.$message.text(t)},fe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&se(e,t)}(s,e);var t,n,r,o=ae(s);function s(){return ie(this,s),o.apply(this,arguments)}return t=s,(n=[{key:"className",get:function(){return"component-response-survey__confirmation"}},{key:"template",get:function(){return ne.a}},{key:"initialize",value:function(){i.default.extend(this,Object($.a)(this)),this.listenTo(this.model,"change:custom_confirmation_message",i.default.partial(ue,this))}},{key:"render",value:function(){return this.$el.html(this.template),this.$message=this.$_element("message"),ue(this),this}}])&&oe(t.prototype,n),r&&oe(t,r),s}(s.a.View),pe=n(1463),de=n.n(pe);function he(e){return(he="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function me(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ye(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ve(e,t){return(ve=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function be(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=we(e);if(t){var i=we(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ge(this,n)}}function ge(e,t){if(t&&("object"===he(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function we(e){return(we=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ke=function(e){e.$title.text(e.model.cleanTitle()),e.$subtitle.text(e.model.get("subtitle"));var t=e.model.polls.length,n=Object(a.pluralize)(t,"question");return e.$message.text("".concat(t," ").concat(n)),e.$button.prop("disabled",e.model.polls.isEmpty()),(null!=e.presenterWarnings?e.presenterWarnings.hasWarnings():void 0)?e.$button.text("Start anyway"):e.$button.text("Start survey")},Oe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ve(e,t)}(s,e);var t,n,r,o=be(s);function s(){return me(this,s),o.apply(this,arguments)}return t=s,(n=[{key:"className",get:function(){return"component-response-survey__intro"}},{key:"template",get:function(){return de.a}},{key:"events",get:function(){return{"click button":function(e){return this.trigger("start")}}}},{key:"initialize",value:function(e){this.options=e,i.default.extend(this,Object($.a)(this)),i.default.defaults(this.options,{user:null}),this.listenTo(this.model,"change:id change:title change:subtitle",i.default.partial(ke,this)),this.listenTo(this.model.polls,"change",i.default.partial(ke,this)),this.listenTo(this.model.polls,"update",i.default.partial(ke,this))}},{key:"render",value:function(){return this.$el.html(this.template),this.$title=this.$_element("title"),this.$subtitle=this.$_element("subtitle"),this.$message=this.$_element("message"),this.$button=this.$("button").prop("disabled",!0),this.model.isNew()||ke(this),this}}])&&ye(t.prototype,n),r&&ye(t,r),s}(s.a.View),_e=n(1249),je=n(1464),Ee=n.n(je),Pe=n(1147);function Se(e){return(Se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Te(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Re(e,t,n){return(Re="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=De(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Ce(e,t){return(Ce=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $e(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=De(e);if(t){var i=De(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ae(this,n)}}function Ae(e,t){if(t&&("object"===Se(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function De(e){return(De=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ne=function(e){null!=e.responseView&&e.responseView.remove(),e.responseView=new Pe.a({model:e.model.polls.at(e.page),attributes:{"aria-live":"polite"}}),e.listenTo(e.responseView,"all",(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.trigger.apply(e,n)})),e.$body.append(e.responseView.render().$el),Be(e),Ie(e),ze(e)},ze=function(e){e.$prev.prop("disabled",0===e.page),e.page===e.model.polls.length-1?e.$next.text("Finish"):e.$next.text("Next")},Ie=function(e){var t=(e.page+1)/e.model.polls.length;t*=100,e.$progress.css({width:"".concat(t,"%")}),e.trigger("progress",e.page,e.model)},Be=function(e){return e.$status.text("Question ".concat(e.page+1," of ").concat(e.model.polls.length," questions"))},Me=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ce(e,t)}(s,e);var t,n,r,o=$e(s);function s(){return Te(this,s),o.apply(this,arguments)}return t=s,(n=[{key:"className",get:function(){return"component-response-survey__questions component-response-survey__questions--multi-page"}},{key:"template",get:function(){return Ee.a}},{key:"events",get:function(){return{"click .component-response-survey__previous":function(){return function(e){e.page>0&&(e.page-=1,Ne(e))}(this)},"click .component-response-survey__next":function(){return function(e){e.page<e.model.polls.length-1?(e.page+=1,Ne(e)):e.model.results.length>0?e.trigger("finish"):e.trigger("error","You must respond to at least one question to submit the survey.")}(this)}}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options=e,i.default.extend(this,Object($.a)(this)),i.default.defaults(this.options,{page:0}),this.page=this.options.page,this.listenTo(this.model.polls,"update",i.default.partial(Be,this)),this.listenTo(this.model.polls,"update",i.default.partial(Ne,this))}},{key:"remove",value:function(){return null!=this.responseView&&this.responseView.remove(),Re(De(s.prototype),"remove",this).apply(this,arguments)}},{key:"render",value:function(){return this.$el.html(this.template),this.$progress=this.$(".component-response-survey__progress"),this.$status=this.$(".component-response-survey__status"),this.$body=this.$(".component-response-survey__body"),this.$prev=this.$(".component-response-survey__previous"),this.$next=this.$(".component-response-survey__next"),Be(this),this.model.polls.length&&Ne(this),this}}])&&xe(t.prototype,n),r&&xe(t,r),s}(s.a.View),Le=n(1465),Fe=n.n(Le);function Ve(e){return(Ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ue(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function We(e,t,n){return(We="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ke(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Ye(e,t){return(Ye=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Xe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ke(e);if(t){var i=Ke(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return He(this,n)}}function He(e,t){if(t&&("object"===Ve(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Ke(e){return(Ke=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ge=function(e,t){null!=e.view&&e.view.remove(),e.$el.append(t.render().$el),e.view=t},Qe=function(e){var t;e.trigger("start",e.model),t=new(e.model.get("full_page")?_e.a:Me)({model:e.model}),Ge(e,t),e.listenTo(t,"finish",(function(){var t=e.model.results.where((function(e){return e.isNew()}));e.trigger("finish",t,e.model)})),e.listenTo(t,"error",i.default.partial(Ze,e,"error")),e.listenTo(t,"progress",i.default.partial(Ze,e,"progress")),e.listenTo(t,"undo",i.default.partial(Ze,e,"undo")),e.listenTo(t,"result",i.default.partial(Ze,e,"result"))},Ze=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];r.splice(0,0,t),e.trigger.apply(e,r)},Je=function(e){var t=new Oe({model:e.model,user:e.options.user});Ge(e,t),e.listenTo(t,"start",i.default.partial(Qe,e)),e.listenTo(t,"clear",(function(){return e.trigger("clear",e.model,e.model.results)}))},et=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ye(e,t)}(s,e);var t,n,r,o=Xe(s);function s(){return qe(this,s),o.apply(this,arguments)}return t=s,(n=[{key:"className",get:function(){return"component-response-survey"}},{key:"template",get:function(){return Fe.a}},{key:"initialize",value:function(e){i.default.extend(this,Object($.a)(this)),this.options=i.default.defaults({},e,{user:null}),this.listenTo(this.model,"change:full_page",i.default.partial(Je,this))}},{key:"remove",value:function(){return null!=this.view&&this.view.remove(),We(Ke(s.prototype),"remove",this).apply(this,arguments)}},{key:"render",value:function(){return Je(this),this}},{key:"showConfirmation",value:function(){var e=new fe({model:this.model});Ge(this,e)}}])&&Ue(t.prototype,n),r&&Ue(t,r),s}(s.a.View),tt=(n(1466),n(1467)),nt=n.n(tt);function rt(e){return(rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function it(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ot(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function st(e,t){return(st=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function at(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=lt(e);if(t){var i=lt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ct(this,n)}}function ct(e,t){if(t&&("object"===rt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function lt(e){return(lt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ut(e){var t=this;["right","wrong","none","neutral"].forEach((function(n){var r=e===n;t.$_toggleModifier(t.$el,"".concat(t.className,"__icon"),n,r)}))}function ft(){var e=function(e){var t=e;if("competition"===e.type()){var n=e.polls.findLastIndex((function(e){return!!e.get("results_count")}));t=e.polls.at(n)}return t.get("participant_key")}(this.model),t=this.leaderboard.getParticipantScore();if(!t)return v.a.Deferred().reject();var n="none",r="Time's up for this question! Try the next one...";if(t.answered(e)){var i=t.answeredCorrect(e),o=t.scoreFor(e),s=Object(a.pluralize)(o,"point",{includeNumber:!0});n=i?"right":"wrong",r=i?"That's correct!":"Oops, that's incorrect.",this.$points.text("+ ".concat(s)),this.$scorePrev.text("".concat(t.scoreWithout(e)," points"))}ut.call(this,n),this.$message.text(r),this.$scoreTotal.text("".concat(t.totalScore()," points"))}function pt(){ut.call(this,"neutral");this.$message.text("The competition has already started, but there's still time to catch up!"),this.$scoreTotal.text("Good luck!")}var dt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&st(e,t)}(s,e);var t,n,r,o=at(s);function s(){return it(this,s),o.apply(this,arguments)}return t=s,(n=[{key:"className",get:function(){return"component-response-competition-feedback"}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i.default.extend(this,Object($.a)(this)),this.options=e,this.leaderboard=this.options.leaderboard,this.$el.html(nt()()),this.$message=this.$_element("message"),this.$scorePrev=this.$_element("score-prev"),this.$scoreTotal=this.$_element("score-total"),this.$points=this.$_element("points")}},{key:"render",value:function(){var e=this;return this.leaderboard.fetch().then(ft.bind(this)).fail(pt.bind(this)).always((function(t){e.$_toggleModifier(null,e.className,"animate",!1),e.$_toggleModifier(null,e.className,"animate",!0)})),this}}])&&ot(t.prototype,n),r&&ot(t,r),s}(s.a.View),ht=(n(1468),n(102)),mt=n(1469),yt=n.n(mt);function vt(e){return(vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wt(e,t){return(wt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function kt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_t(e);if(t){var i=_t(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ot(this,n)}}function Ot(e,t){if(t&&("object"===vt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function _t(e){return(_t=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function jt(){var e=this,t=this.$_element("title"),n=["strong","em","br"];ht.a.isLatex(this.model.get("title"))?(t.html(""),ht.a.renderInto(t,this.model.get("title"),{cleanWhitelist:n}).then((function(){e.trigger("render:latex",t)}))):t.html(this.model.cleanTitle({whitelist:n}))}var Et=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wt(e,t)}(s,e);var t,n,r,o=kt(s);function s(){return bt(this,s),o.apply(this,arguments)}return t=s,(n=[{key:"className",get:function(){return"component-response-competition-question"}},{key:"initialize",value:function(){i.default.extend(this,Object($.a)(this)),this.$el.html(yt()()),jt.call(this),this.listenTo(this.model,"change:title",jt.bind(this))}}])&&gt(t.prototype,n),r&&gt(t,r),s}(s.a.View),Pt=(n(1470),n(1471)),St=n.n(Pt);function Tt(e){return(Tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ct(e,t){return(Ct=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $t(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Dt(e);if(t){var i=Dt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return At(this,n)}}function At(e,t){if(t&&("object"===Tt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Dt(e){return(Dt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Nt(){var e=this,t=this.$_element("title"),n=["strong","em","br"];ht.a.isLatex(this.model.get("title"))?(t.html(""),ht.a.renderInto(t,this.model.get("title"),{cleanWhitelist:n}).then((function(){e.trigger("render:latex",t)}))):t.html(this.model.cleanTitle({whitelist:n}))}function zt(){var e=Object(a.pluralize)(this.model.get("polls_count"),"question",{includeNumber:!0});this.$_element("subtitle").text(e)}var It=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ct(e,t)}(s,e);var t,n,r,o=$t(s);function s(){return xt(this,s),o.apply(this,arguments)}return t=s,(n=[{key:"className",get:function(){return"component-response-competition__welcome"}},{key:"template",get:function(){return St.a}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i.default.extend(this,Object($.a)(this)),this.options=e,this.$el.html(this.template()),Nt.call(this),zt.call(this),this.listenTo(this.model,"change:title",Nt.bind(this))}}])&&Rt(t.prototype,n),r&&Rt(t,r),s}(s.a.View),Bt=(n(1472),n(1473),n(1474)),Mt=n.n(Bt);function Lt(e){return(Lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ft(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qt(e,t){return(qt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ut(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Yt(e);if(t){var i=Yt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Wt(this,n)}}function Wt(e,t){if(t&&("object"===Lt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Yt(e){return(Yt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Xt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qt(e,t)}(s,e);var t,n,r,o=Ut(s);function s(){return Ft(this,s),o.apply(this,arguments)}return t=s,(n=[{key:"className",get:function(){return"component-response-competition-player-card"}},{key:"initialize",value:function(){var e=this;i.default.extend(this,Object($.a)(this)),this.$el.html(Mt()()),this.$_element("rank").text(this.model.get("rank")),this.$_element("name").text(this.model.screenName()),this.$_element("score").text(this.model.get("score")),this.model.id===this.model.collection.getParticipantId()&&setTimeout((function(){return e.$_toggleModifier(null,e.className,"active",!0)}),0)}}])&&Vt(t.prototype,n),r&&Vt(t,r),s}(s.a.View),Ht=n(1475),Kt=n.n(Ht);function Gt(e){return(Gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Jt(e,t){return(Jt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function en(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=nn(e);if(t){var i=nn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return tn(this,n)}}function tn(e,t){if(t&&("object"===Gt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function nn(e){return(nn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function rn(e){var t=Object(a.ordinalize)(e.get("rank"));this.$rank.text(t)}function on(){this.$message.text("Nice! You've placed"),this.$title.text("Leaderboard");var e=new h.a({className:this.$top10.prop("className"),collection:this.leaderboard,viewClass:function(e){return Xt}});this.$top10.replaceWith(e.render().$el),this.$top10=e.$el;var t=this.leaderboard.getParticipantScore();t?rn.call(this,t):sn.call(this)}function sn(){var e=this,t=this.leaderboard.clone();t.options=this.leaderboard.options,t.fetchParticipantContext().then((function(n){var r=t.getParticipantScore();if(!r)return v.a.Deferred().reject();var i=function(e){var t=2*e.getContextSize()+1;return e.length<t}(t);i&&e.$_toggleModifier(e.$el,e.$context.prop("className"),"end",!0),t.shift(),i||t.pop();var o=e.leaderboard.pluck("id");t.remove(o),rn.call(e,r);var s=new h.a({className:e.$context.prop("className"),collection:t,viewClass:function(e){return Xt}});e.$context.replaceWith(s.render().$el),e.$context=s.$el,e.delegate("click",".".concat(e.className,"__context"),(function(t){e.trigger("view:action","leaderboard:click_ellipses",{shared_key:e.model.get("shared_key")})}))})).fail((function(t){e.$header.toggle(!1)}))}var an=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Jt(e,t)}(s,e);var t,n,r,o=en(s);function s(){return Qt(this,s),o.apply(this,arguments)}return t=s,(n=[{key:"className",get:function(){return"component-response-competition-leaderboard"}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i.default.extend(this,Object($.a)(this)),this.options=e,this.leaderboard=this.options.leaderboard,this.$el.html(Kt()()),this.$header=this.$_element("header"),this.$message=this.$_element("message"),this.$rank=this.$_element("rank"),this.$title=this.$_element("title"),this.$top10=this.$_element("top10"),this.$context=this.$_element("context")}},{key:"render",value:function(){var e=this;return this.leaderboard.fetch({data:{top_10:!0}}).done(on.bind(this)).fail((function(e){throw new Error("Failed to retrieve leaderboard",e)})).always((function(t){e.$_toggleModifier(null,e.className,"animate",!1),e.$_toggleModifier(null,e.className,"animate",!0)})),this}}])&&Zt(t.prototype,n),r&&Zt(t,r),s}(s.a.View),cn=n(1476),ln=n.n(cn);function un(e){return(un="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dn(e,t,n){return(dn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=vn(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function hn(e,t){return(hn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function mn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=vn(e);if(t){var i=vn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return yn(this,n)}}function yn(e,t){if(t&&("object"===un(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function vn(e){return(vn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var bn={ranking_poll:ee.a,clickable_image:f.a,multiple_choice_poll:u.a};function gn(e){var t=null,n=e.model.type();switch(e.model.get("display_state")){case"welcome":t=It;break;case"title":t=Et;break;case"instructions":t=bn[n];break;case"chart":case"leaderboard":t=dt;break;case"finale":t=an}e.state.set({view:t})}function wn(e){var t=e.state.get("view"),n={model:e.model,leaderboard:e.leaderboard};e.model.polls||(n.state=new l.a(e.model)),t&&(e.view&&e.view.remove(),e.view=new t(n),e.listenTo(e.view,"result",(function(t,n){return e.trigger("result",t,n)})),e.listenTo(e.view,"undo",(function(t,n){return e.trigger("undo",e.model.results.last())})),e.listenTo(e.view,"view:action",(function(t,n,r){e.trigger("view:action","competition:".concat(t),n,r)})),e.$el.append(e.view.render().$el))}var kn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&hn(e,t)}(a,e);var t,n,r,o=mn(a);function a(){return fn(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"className",get:function(){return"component-response-competition"}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i.default.extend(this,Object($.a)(this)),this.options=i.default.defaults(e,{screenName:"",leaderboard:null}),this.leaderboard=e.leaderboard,this.view=null,this.state=new s.a.Model({view:null}),this.listenTo(this.state,"change:view",i.default.partial(wn,this)),this.listenTo(this.model,"change:display_state",i.default.partial(gn,this))}},{key:"render",value:function(){return this.$el.html(ln.a),gn(this),this.options.screenName&&(this.$_element("screen-name").text("Responding as ".concat(this.options.screenName)),this.$_toggleModifier(null,this.className,"show-screen-name",!0)),this}},{key:"remove",value:function(){this.view&&this.view.remove(),dn(vn(a.prototype),"remove",this).apply(this,arguments)}}])&&pn(t.prototype,n),r&&pn(t,r),a}(s.a.View);function On(e){return(On="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function En(e,t,n){return(En="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=xn(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function Pn(e,t){return(Pn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Sn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=xn(e);if(t){var i=xn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Tn(this,n)}}function Tn(e,t){if(t&&("object"===On(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function xn(e){return(xn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Rn={discourse:J,ranking_poll:ee.a,clickable_image:f.a,multiple_choice_poll:u.a,free_text_poll:p.a,survey:et,competition:kn},Cn=function(e){if(e.options.live&&(e.model.instance&&e.model.instance.stop(),"discourse"===e.model.type()&&e.model.stopLiveUpdate(),"survey"===e.model.type()))return e.model.polls.each((function(e){return e.instance.stop()}))},$n=function(e){if("discourse"!==e.model.type())return"survey"===e.model.type()?(e.model.instance.start(),e.model.polls.each((function(e){return e.instance.start()}))):e.model.instance.start();e.model.liveUpdate()},An=function(e,t){t.isNew()?t.collection.remove(t):(t.set("isPending",!0),t.destroy({wait:!0}))};function Dn(e){var t=Object(a.normalizeXhrError)(e),n=t.detail,r=[t.message];try{n.forEach((function(e){r.push("- ".concat(e.message))}))}catch(e){(r=r.map((function(e){return"- ".concat(e)}))).unshift("An unknown error has occurred")}this.trigger("error","".concat(r.join("\r\n")))}var Nn=function(e,t,n){return t.set("isPending",!0),t.source=e.options.source,t.save().then((function(){t.has("confirmation_message")&&e.trigger("message",t.get("confirmation_message")),t.unset("isPending"),e.trigger("result",t,n)})).catch((function(n){t.unset("isPending"),t.collection&&t.collection.remove(t),Dn.call(e,n)}))},zn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Pn(e,t)}(s,e);var t,n,r,o=Sn(s);function s(){return _n(this,s),o.apply(this,arguments)}return t=s,(n=[{key:"className",get:function(){return"component-response-activity"}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i.default.extend(this,Object($.a)(this)),this.options=i.default.defaults({},e,{live:!1,source:"private_link",user:null,registrationInfo:null,leaderboard:null,fetchResults:!0,disableSkeleton:!1}),this.options.live&&(this.model.isNew()?this.listenTo(this.model,"change:id",i.default.partial($n,this)):$n(this))}},{key:"render",value:function(){var e=this;return this.$el.attr("data-activity-type",this.model.type()),this.view=function(e){var t=e.model.type(),n={model:e.model,disableSkeleton:e.options.disableSkeleton};if("survey"!==t&&"competition"!==t){var r={registrationInfo:e.options.registrationInfo,disableSkeleton:e.options.disableSkeleton};"discourse"===t&&(e.model.myResults?r.collection=e.model.myResults:(r.collection=e.model.results.clone(!0),r.collection.poll=e.model)),i.default.extend(n,{state:new l.a(e.model,r)})}switch(t){case"survey":i.default.extend(n,{user:e.options.user});break;case"competition":i.default.extend(n,{leaderboard:e.options.leaderboard});break;case"multiple_choice_poll":e.model.competition&&(t="competition",i.default.extend(n,{leaderboard:e.options.leaderboard}))}return"competition"===t&&(e.options.registrationInfo.get("screen_names_enabled")||e.options.registrationInfo.get("competition_screen_names_enabled")||(n.screenName=e.options.user.get("name"),e.model.get("registered_participants_only")||(n.leaderboard.screenNamesEnabled=!1,n.screenName=n.leaderboard.generateScreenName()))),new Rn[t](n)}(this),this.model.results&&(this.model.results.source=this.options.source,this.model.polls&&this.listenTo(this.model.polls,"update",(function(){return e.model.results.fetch()})),this.options.fetchResults&&!this.model.isNew()&&("discourse"===this.model.type()?(this.view.state.collection.fetch(),this.model.myVotes.fetch()):this.model.results.fetch())),this.listenTo(this.view,"error",(function(t){return e.trigger("error",t)})),this.listenTo(this.view,"view:action",(function(t,n,r){e.trigger("view:action","response:".concat(t),n,r)})),Object(c.c)(this.el,"response"),"survey"===this.model.type()?function(e){e.listenTo(e.view,"undo",i.default.partial(An,e)),e.listenTo(e.view,"clear",(function(e,t){return e.enableAndClearAllPolls().then((function(){return e.polls.each((function(e){return e.set("state","opened")})),t.set([])}))})),e.listenTo(e.view,"start",(function(e){return e.start()})),e.listenTo(e.view,"result",(function(t,n){if(!e.model.get("full_page"))return Nn(e,t,n)})),e.listenTo(e.view,"progress",(function(t,n){n.progress(t),e.trigger("progress",t,n)})),e.listenTo(e.view,"finish",(function(t,n){n.complete();var r=t.filter((function(e){return e.isNew()}));if(r.length){if(e._savingSurveyResults)return;e._savingSurveyResults=!0,e.model.results.save().then((function(){return e.view.showConfirmation(),e.trigger("result",r,n)})).fail(Dn.bind(e)).always((function(){e._savingSurveyResults=!1}))}else e.view.showConfirmation()}))}(this):function(e){e.listenTo(e.view,"undo",i.default.partial(An,e)),e.listenTo(e.view,"result",i.default.partial(Nn,e)),e.listenTo(e.view,"vote",(function(t){t.save({value:t.get("value")},{patch:!0}).catch((function(t){return e.trigger("error",t.message)}))}))}(this),this.$el.html(this.view.render().$el),this}},{key:"remove",value:function(){return Cn(this),this.view&&this.view.remove(),En(xn(s.prototype),"remove",this).apply(this,arguments)}}])&&jn(t.prototype,n),r&&jn(t,r),s}(s.a.View)},1515:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(1054),i=n.n(r),o="p2p_experiment_group";function s(){if(i.a.isFake())return"unknown";var e,t=i.a.get(o);return t||(t=(e=["base","embed_image","lower_cta"])[Math.floor(Math.random()*e.length)],i.a.set(o,t)),t}function a(e){return"experiment:mobile_web:participant_results:".concat(e,":").concat(s())}},1942:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var r=n(1),i=n.n(r),o=n(6),s=n(107),a=n(1352),c=n(1576),l=n(1293),u=n(1023),f=n(1035),p=n(1180),d=n(1511);function h(e,t,n,r,i,o,s){try{var a=e[o](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,i)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(){var e={},t=Object(f.i)(u.a.getState()).firehoseToken;return t&&(e.firehose_token=t),e}var v=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),_.extend(this,i.a.Events)}var t,n,r,v,b;return t=e,(n=[{key:"start",value:function(){var e=this;if(this._subscriptionChannel)throw new Error("already subscribed");var t=!0,n=Object(f.b)(u.a.getState()),r=(new Date).getTime(),i="users/".concat(n.login,"/activity/current.json"),a=Object(s.a)(i,{host:o.a.get("firehose_url").toString(),ssl:o.a.get("firehose_ssl"),params:y,preflight:function(){return u.a.dispatch(f.l.refreshRegistrationInfo())}});return this._subscriptionChannel=a,new Promise((function(n,i){a.once("connected",(function(){t=!1,n();var i=((new Date).getTime()-r)/1e3;e.trigger("transport:connected",Math.round(i))})),a.on("message",e._processMessage.bind(e)),a.on("error",(function(t){"UnauthorizedSubscription"===t.type?e.trigger("error",{type:"unauthorized"}):e.trigger("transport:error",{error:t})})),a.on("failed",(function(n){t&&(t=!1,i(n)),"UnauthorizedSubscription"===n.type?e.trigger("error",{type:"unauthorized"}):e.trigger("transport:failed",{error:n})}))}))}},{key:"stop",value:function(){this._subscriptionChannel&&(this._subscriptionChannel.unsubscribe(),delete this._subscriptionChannel)}},{key:"_processMessage",value:(v=regeneratorRuntime.mark((function e(t){var n,r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.pong){e.next=2;break}return e.abrupt("return");case 2:if(n=t.uid,(r=t.type)&&n){e.next=8;break}p.a.clearCurrent(),e.next=19;break;case 8:return e.prev=8,e.next=11,Object(d.a)(r,n);case 11:return i=e.sent,e.next=14,p.a.setCurrent(i);case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(8),e.t0 instanceof a.a?this.trigger("error",{type:"upgrade",activityType:r}):e.t0 instanceof c.a?this.trigger("error",{type:"fetch",status:e.t0.status}):e.t0 instanceof l.a?this.trigger("error",{type:"unauthorized",activityType:r,presenterLogin:e.t0.presenterLogin}):this.trigger("error",{type:"unknown",original:e.t0});case 19:case"end":return e.stop()}}),e,this,[[8,16]])})),b=function(){var e=this,t=arguments;return new Promise((function(n,r){var i=v.apply(e,t);function o(e){h(i,n,r,o,s,"next",e)}function s(e){h(i,n,r,o,s,"throw",e)}o(void 0)}))},function(e){return b.apply(this,arguments)})}])&&m(t.prototype,n),r&&m(t,r),e}()},1943:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return $}));var r,i,o=n(6),s=n(1023),a=n(1033),c=n(16),l=n(46),u=n(447),f=n(1035),p=n(1025),d=n(1054),h=n.n(d);n(1575),n(1944);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O(e);if(t){var i=O(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return w(this,n)}}function w(e,t){if(t&&("object"===m(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return k(e)}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(){_=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){["method","field"].forEach((function(n){t.forEach((function(t){t.kind===n&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var n=e.prototype;["method","field"].forEach((function(r){t.forEach((function(t){var i=t.placement;if(t.kind===r&&("static"===i||"prototype"===i)){var o="static"===i?e:n;this.defineClassElement(o,t)}}),this)}),this)},defineClassElement:function(e,t){var n=t.descriptor;if("field"===t.kind){var r=t.initializer;n={enumerable:n.enumerable,writable:n.writable,configurable:n.configurable,value:void 0===r?void 0:r.call(e)}}Object.defineProperty(e,t.key,n)},decorateClass:function(e,t){var n=[],r=[],i={static:[],prototype:[],own:[]};if(e.forEach((function(e){this.addElementPlacement(e,i)}),this),e.forEach((function(e){if(!P(e))return n.push(e);var t=this.decorateElement(e,i);n.push(t.element),n.push.apply(n,t.extras),r.push.apply(r,t.finishers)}),this),!t)return{elements:n,finishers:r};var o=this.decorateConstructor(n,t);return r.push.apply(r,o.finishers),o.finishers=r,o},addElementPlacement:function(e,t,n){var r=t[e.placement];if(!n&&-1!==r.indexOf(e.key))throw new TypeError("Duplicated element ("+e.key+")");r.push(e.key)},decorateElement:function(e,t){for(var n=[],r=[],i=e.decorators,o=i.length-1;o>=0;o--){var s=t[e.placement];s.splice(s.indexOf(e.key),1);var a=this.fromElementDescriptor(e),c=this.toElementFinisherExtras((0,i[o])(a)||a);e=c.element,this.addElementPlacement(e,t),c.finisher&&r.push(c.finisher);var l=c.extras;if(l){for(var u=0;u<l.length;u++)this.addElementPlacement(l[u],t);n.push.apply(n,l)}}return{element:e,finishers:r,extras:n}},decorateConstructor:function(e,t){for(var n=[],r=t.length-1;r>=0;r--){var i=this.fromClassDescriptor(e),o=this.toClassDescriptor((0,t[r])(i)||i);if(void 0!==o.finisher&&n.push(o.finisher),void 0!==o.elements){e=o.elements;for(var s=0;s<e.length-1;s++)for(var a=s+1;a<e.length;a++)if(e[s].key===e[a].key&&e[s].placement===e[a].placement)throw new TypeError("Duplicated element ("+e[s].key+")")}}return{elements:e,finishers:n}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return Object.defineProperty(t,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return(t=e,function(e){if(Array.isArray(e))return e}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return R(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?R(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map((function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var n=x(e.key),r=String(e.placement);if("static"!==r&&"prototype"!==r&&"own"!==r)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+r+'"');var i=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var o={kind:t,key:n,placement:r,descriptor:Object.assign({},i)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(i,"get","The property descriptor of a field descriptor"),this.disallowProperty(i,"set","The property descriptor of a field descriptor"),this.disallowProperty(i,"value","The property descriptor of a field descriptor"),o.initializer=e.initializer),o},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:T(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:e.map(this.fromElementDescriptor,this)};return Object.defineProperty(t,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var n=T(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:n}},runClassFinishers:function(e,t){for(var n=0;n<t.length;n++){var r=(0,t[n])(e);if(void 0!==r){if("function"!=typeof r)throw new TypeError("Finishers must return a constructor.");e=r}}return e},disallowProperty:function(e,t,n){if(void 0!==e[t])throw new TypeError(n+" can't have a ."+t+" property.")}};return e}function j(e){var t,n=x(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var r={kind:"field"===e.kind?"field":"method",key:n,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(r.decorators=e.decorators),"field"===e.kind&&(r.initializer=e.value),r}function E(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function P(e){return e.decorators&&e.decorators.length}function S(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function T(e,t){var n=e[t];if(void 0!==n&&"function"!=typeof n)throw new TypeError("Expected '"+t+"' to be a function");return n}function x(e){var t=function(e,t){if("object"!==m(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==m(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===m(t)?t:String(t)}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var C="hide_presenter_notes";function $(){var e;if(h.a.get(C))return!1;var t=s.a.getState(),n=t[f.l.name].login,r=null===(e=t[p.a.name].user)||void 0===e?void 0:e.login;return n&&n===r}var A=function(e,t,n,r){var i=_();if(r)for(var o=0;o<r.length;o++)i=r[o](i);var s=t((function(e){i.initializeInstanceElements(e,a.elements)}),n),a=i.decorateClass(function(e){for(var t=[],n=function(e){return"method"===e.kind&&e.key===o.key&&e.placement===o.placement},r=0;r<e.length;r++){var i,o=e[r];if("method"===o.kind&&(i=t.find(n)))if(S(o.descriptor)||S(i.descriptor)){if(P(o)||P(i))throw new ReferenceError("Duplicated methods ("+o.key+") can't be decorated.");i.descriptor=o.descriptor}else{if(P(o)){if(P(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+o.key+").");i.decorators=o.decorators}E(o,i)}else t.push(o)}return t}(s.d.map(j)),e);return i.initializeClassElements(s.F,a.elements),i.runClassFinishers(s.F,a.finishers)}(null,(function(e,t){return{F:function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(r,t);var n=g(r);function r(){var t;v(this,r);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return t=n.call.apply(n,[this].concat(o)),e(k(t)),t}return r}(t),d:[{kind:"field",static:!0,key:"tagName",value:function(){return"pec-response-presenter-notes"}},{kind:"field",decorators:[Object(c.c)({type:String})],key:"presenterName",value:void 0},{kind:"method",key:"createRenderRoot",value:function(){return this}},{kind:"method",key:"stateChanged",value:function(e){this.presenterName=e[f.l.name].name}},{kind:"method",key:"dontShowAgain",value:function(){this.remove(),h.a.set(C,+new Date)}},{kind:"method",key:"render",value:function(){var e,t=this;return Object(c.b)(r||(r=y(["\n      <p>",", this is your response page. Participants use this page to respond to your polling activities.</p>\n      <p>To make it your own, you can add a logo, change the colors, and customize the URL.</p>\n      <p>\n        ","\n        <pe-button type=link @click=",' label="Don\'t show again"></pe-button>\n      </p>\n    '])),this.presenterName,null!==(e=window.Capacitor)&&void 0!==e&&e.isNative?"":Object(c.b)(i||(i=y(["\n              <a href=","\n                target=_blank\n                @click=","\n              >\n                Customize\n              </a>\n            "])),o.a.get("api_url").segment("profile/mobile_theme/edit"),(function(){return Object(u.d)(t,"presenter_notes_customize")})),(function(){return t.dontShowAgain()}))}}]}}),Object(a.a)(s.a)(c.a));Object(l.a)(e,A.tagName,A)}).call(this,n(87)(e))},1944:function(e,t,n){},1945:function(e,t,n){"use strict";(function(e){var t,r,i=n(1023),o=n(1035),s=n(1946),a=n.n(s),c=n(1056),l=n(16),u=n(57),f=n(46);n(1947);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=b(e);if(t){var i=b(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return y(this,n)}}function y(e,t){if(t&&("object"===p(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return v(e)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(){g=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){["method","field"].forEach((function(n){t.forEach((function(t){t.kind===n&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var n=e.prototype;["method","field"].forEach((function(r){t.forEach((function(t){var i=t.placement;if(t.kind===r&&("static"===i||"prototype"===i)){var o="static"===i?e:n;this.defineClassElement(o,t)}}),this)}),this)},defineClassElement:function(e,t){var n=t.descriptor;if("field"===t.kind){var r=t.initializer;n={enumerable:n.enumerable,writable:n.writable,configurable:n.configurable,value:void 0===r?void 0:r.call(e)}}Object.defineProperty(e,t.key,n)},decorateClass:function(e,t){var n=[],r=[],i={static:[],prototype:[],own:[]};if(e.forEach((function(e){this.addElementPlacement(e,i)}),this),e.forEach((function(e){if(!O(e))return n.push(e);var t=this.decorateElement(e,i);n.push(t.element),n.push.apply(n,t.extras),r.push.apply(r,t.finishers)}),this),!t)return{elements:n,finishers:r};var o=this.decorateConstructor(n,t);return r.push.apply(r,o.finishers),o.finishers=r,o},addElementPlacement:function(e,t,n){var r=t[e.placement];if(!n&&-1!==r.indexOf(e.key))throw new TypeError("Duplicated element ("+e.key+")");r.push(e.key)},decorateElement:function(e,t){for(var n=[],r=[],i=e.decorators,o=i.length-1;o>=0;o--){var s=t[e.placement];s.splice(s.indexOf(e.key),1);var a=this.fromElementDescriptor(e),c=this.toElementFinisherExtras((0,i[o])(a)||a);e=c.element,this.addElementPlacement(e,t),c.finisher&&r.push(c.finisher);var l=c.extras;if(l){for(var u=0;u<l.length;u++)this.addElementPlacement(l[u],t);n.push.apply(n,l)}}return{element:e,finishers:r,extras:n}},decorateConstructor:function(e,t){for(var n=[],r=t.length-1;r>=0;r--){var i=this.fromClassDescriptor(e),o=this.toClassDescriptor((0,t[r])(i)||i);if(void 0!==o.finisher&&n.push(o.finisher),void 0!==o.elements){e=o.elements;for(var s=0;s<e.length-1;s++)for(var a=s+1;a<e.length;a++)if(e[s].key===e[a].key&&e[s].placement===e[a].placement)throw new TypeError("Duplicated element ("+e[s].key+")")}}return{elements:e,finishers:n}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return Object.defineProperty(t,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return(t=e,function(e){if(Array.isArray(e))return e}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?P(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map((function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var n=E(e.key),r=String(e.placement);if("static"!==r&&"prototype"!==r&&"own"!==r)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+r+'"');var i=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var o={kind:t,key:n,placement:r,descriptor:Object.assign({},i)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(i,"get","The property descriptor of a field descriptor"),this.disallowProperty(i,"set","The property descriptor of a field descriptor"),this.disallowProperty(i,"value","The property descriptor of a field descriptor"),o.initializer=e.initializer),o},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:j(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:e.map(this.fromElementDescriptor,this)};return Object.defineProperty(t,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var n=j(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:n}},runClassFinishers:function(e,t){for(var n=0;n<t.length;n++){var r=(0,t[n])(e);if(void 0!==r){if("function"!=typeof r)throw new TypeError("Finishers must return a constructor.");e=r}}return e},disallowProperty:function(e,t,n){if(void 0!==e[t])throw new TypeError(n+" can't have a ."+t+" property.")}};return e}function w(e){var t,n=E(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var r={kind:"field"===e.kind?"field":"method",key:n,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(r.decorators=e.decorators),"field"===e.kind&&(r.initializer=e.value),r}function k(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function O(e){return e.decorators&&e.decorators.length}function _(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function j(e,t){var n=e[t];if(void 0!==n&&"function"!=typeof n)throw new TypeError("Expected '"+t+"' to be a function");return n}function E(e){var t=function(e,t){if("object"!==p(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==p(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===p(t)?t:String(t)}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function S(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var T=function(e,t,n,r){var i=g();if(r)for(var o=0;o<r.length;o++)i=r[o](i);var s=t((function(e){i.initializeInstanceElements(e,a.elements)}),n),a=i.decorateClass(function(e){for(var t=[],n=function(e){return"method"===e.kind&&e.key===o.key&&e.placement===o.placement},r=0;r<e.length;r++){var i,o=e[r];if("method"===o.kind&&(i=t.find(n)))if(_(o.descriptor)||_(i.descriptor)){if(O(o)||O(i))throw new ReferenceError("Duplicated methods ("+o.key+") can't be decorated.");i.descriptor=o.descriptor}else{if(O(o)){if(O(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+o.key+").");i.decorators=o.decorators}k(o,i)}else t.push(o)}return t}(s.d.map(w)),e);return i.initializeClassElements(s.F,a.elements),i.runClassFinishers(s.F,a.finishers)}(null,(function(e,n){return{F:function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(r,t);var n=m(r);function r(){var t;d(this,r);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return t=n.call.apply(n,[this].concat(o)),e(v(t)),t}return r}(n),d:[{kind:"field",static:!0,key:"tagName",value:function(){return"pec-response-hold"}},{kind:"field",decorators:[Object(l.d)({type:Boolean,reflect:!0})],key:"branded",value:void 0},{kind:"field",decorators:[Object(l.c)({type:String})],key:"presenterLogin",value:void 0},{kind:"field",decorators:[Object(l.c)({type:Object})],key:"customStyle",value:void 0},{kind:"method",key:"stateChanged",value:function(e){var t=Object(o.b)(e);this.customStyle=Object(o.c)(e)||{},this.presenterLogin=t.login,this.branded=t.webBranded}},{kind:"method",key:"createRenderRoot",value:function(){return this}},{kind:"method",key:"render",value:function(){var e,n,i=this.customStyle.placeholderLogo||a.a,o=this.customStyle.placeholderTitle||"Waiting for ".concat(this.presenterLogin,"'s presentation to begin…");return Object(l.b)(r||(r=S(["\n      <div class=",">\n        <img role=presentation alt='' src='","'>\n      </div>\n      <div class=",">\n        <h1 class=",">","</h1>\n        <div class=",">","</div>\n      </div>\n    "])),x("logo"),i,x("content"),x("header"),o,x("callout"),(e=this.customStyle,n=this.presenterLogin,e.placeholderContent?e.placeholderContent:Object(l.b)(t||(t=S(["\n    <div class=",">\n      ","'s presentation is underway. As soon as the activity is active, you’ll see it on the screen here. Stay put.\n    </div>\n    <div class=",">\n      Poll Everywhere helps boost engagement during remote meetings, virtual trainings, and online conferences.\n    </div>\n  "])),x("instruction"),n,x("instruction",{branding:!0}))))}}]}}),Object(c.a)(i.a)(l.a)),x=Object(u.a)(T.tagName);Object(f.a)(e,T.tagName,T)}).call(this,n(87)(e))},1946:function(e,t,n){e.exports=n.p+"images/waiting-screen-illustration.2dc3f8bec73209e94de2185525da6c16.svg"},1947:function(e,t,n){},1948:function(e,t,n){"use strict";(function(e){var t,r=n(6),i=n(46),o=n(57),s=n(1033),a=n(1023),c=n(16),l=n(1035);n(1949);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var i=y(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h(this,n)}}function h(e,t){if(t&&("object"===u(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return m(e)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(){v=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){["method","field"].forEach((function(n){t.forEach((function(t){t.kind===n&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var n=e.prototype;["method","field"].forEach((function(r){t.forEach((function(t){var i=t.placement;if(t.kind===r&&("static"===i||"prototype"===i)){var o="static"===i?e:n;this.defineClassElement(o,t)}}),this)}),this)},defineClassElement:function(e,t){var n=t.descriptor;if("field"===t.kind){var r=t.initializer;n={enumerable:n.enumerable,writable:n.writable,configurable:n.configurable,value:void 0===r?void 0:r.call(e)}}Object.defineProperty(e,t.key,n)},decorateClass:function(e,t){var n=[],r=[],i={static:[],prototype:[],own:[]};if(e.forEach((function(e){this.addElementPlacement(e,i)}),this),e.forEach((function(e){if(!w(e))return n.push(e);var t=this.decorateElement(e,i);n.push(t.element),n.push.apply(n,t.extras),r.push.apply(r,t.finishers)}),this),!t)return{elements:n,finishers:r};var o=this.decorateConstructor(n,t);return r.push.apply(r,o.finishers),o.finishers=r,o},addElementPlacement:function(e,t,n){var r=t[e.placement];if(!n&&-1!==r.indexOf(e.key))throw new TypeError("Duplicated element ("+e.key+")");r.push(e.key)},decorateElement:function(e,t){for(var n=[],r=[],i=e.decorators,o=i.length-1;o>=0;o--){var s=t[e.placement];s.splice(s.indexOf(e.key),1);var a=this.fromElementDescriptor(e),c=this.toElementFinisherExtras((0,i[o])(a)||a);e=c.element,this.addElementPlacement(e,t),c.finisher&&r.push(c.finisher);var l=c.extras;if(l){for(var u=0;u<l.length;u++)this.addElementPlacement(l[u],t);n.push.apply(n,l)}}return{element:e,finishers:r,extras:n}},decorateConstructor:function(e,t){for(var n=[],r=t.length-1;r>=0;r--){var i=this.fromClassDescriptor(e),o=this.toClassDescriptor((0,t[r])(i)||i);if(void 0!==o.finisher&&n.push(o.finisher),void 0!==o.elements){e=o.elements;for(var s=0;s<e.length-1;s++)for(var a=s+1;a<e.length;a++)if(e[s].key===e[a].key&&e[s].placement===e[a].placement)throw new TypeError("Duplicated element ("+e[s].key+")")}}return{elements:e,finishers:n}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return Object.defineProperty(t,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return(t=e,function(e){if(Array.isArray(e))return e}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?j(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map((function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var n=_(e.key),r=String(e.placement);if("static"!==r&&"prototype"!==r&&"own"!==r)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+r+'"');var i=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var o={kind:t,key:n,placement:r,descriptor:Object.assign({},i)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(i,"get","The property descriptor of a field descriptor"),this.disallowProperty(i,"set","The property descriptor of a field descriptor"),this.disallowProperty(i,"value","The property descriptor of a field descriptor"),o.initializer=e.initializer),o},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:O(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:e.map(this.fromElementDescriptor,this)};return Object.defineProperty(t,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var n=O(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:n}},runClassFinishers:function(e,t){for(var n=0;n<t.length;n++){var r=(0,t[n])(e);if(void 0!==r){if("function"!=typeof r)throw new TypeError("Finishers must return a constructor.");e=r}}return e},disallowProperty:function(e,t,n){if(void 0!==e[t])throw new TypeError(n+" can't have a ."+t+" property.")}};return e}function b(e){var t,n=_(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var r={kind:"field"===e.kind?"field":"method",key:n,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(r.decorators=e.decorators),"field"===e.kind&&(r.initializer=e.value),r}function g(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function w(e){return e.decorators&&e.decorators.length}function k(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function O(e,t){var n=e[t];if(void 0!==n&&"function"!=typeof n)throw new TypeError("Expected '"+t+"' to be a function");return n}function _(e){var t=function(e,t){if("object"!==u(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===u(t)?t:String(t)}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function E(e){return window.open(e,"_system")}function P(){r.a.ios()?E("https://itunes.apple.com/us/app/poll-everywhere/id893375312"):E("https://play.google.com/store/apps/details?id=com.polleverywhere.mobile")}var S=function(e,t,n,r){var i=v();if(r)for(var o=0;o<r.length;o++)i=r[o](i);var s=t((function(e){i.initializeInstanceElements(e,a.elements)}),n),a=i.decorateClass(function(e){for(var t=[],n=function(e){return"method"===e.kind&&e.key===o.key&&e.placement===o.placement},r=0;r<e.length;r++){var i,o=e[r];if("method"===o.kind&&(i=t.find(n)))if(k(o.descriptor)||k(i.descriptor)){if(w(o)||w(i))throw new ReferenceError("Duplicated methods ("+o.key+") can't be decorated.");i.descriptor=o.descriptor}else{if(w(o)){if(w(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+o.key+").");i.decorators=o.decorators}g(o,i)}else t.push(o)}return t}(s.d.map(b)),e);return i.initializeClassElements(s.F,a.elements),i.runClassFinishers(s.F,a.finishers)}(null,(function(e,n){return{F:function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(r,t);var n=d(r);function r(){var t;f(this,r);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return t=n.call.apply(n,[this].concat(o)),e(m(t)),t}return r}(n),d:[{kind:"field",static:!0,key:"tagName",value:function(){return"pec-response-out-of-date-browser"}},{kind:"field",decorators:[Object(c.c)({type:String})],key:"presenterLogin",value:void 0},{kind:"method",key:"stateChanged",value:function(e){this.presenterLogin=Object(l.b)(e).login}},{kind:"method",key:"createRenderRoot",value:function(){return this}},{kind:"method",key:"render",value:function(){var e,n,i,o;return Object(c.b)(t||(i=["\n      <pe-graphic class="," type=legacy-glyph name=logo></pe-graphic>\n      <div class=",">\n        <h1>Welcome to ","'s presentation</h1>\n        <p>\n          ","\n        </p>\n        <div class=","\n          data-platform=","\n          @click=","\n          ?hidden=",">\n        </div>\n      </div>\n    "],o||(o=i.slice(0)),t=Object.freeze(Object.defineProperties(i,{raw:{value:Object.freeze(o)}}))),T("logo"),T("content"),this.presenterLogin,null!==(e=window.Capacitor)&&void 0!==e&&e.isNative?"Your mobile app is out of date. Upgrade to use the newest poll type.":"You're missing a cool new poll type. Refresh your browser to start using it now.",T("app-store"),r.a.get("platform"),P,!(null!==(n=window.Capacitor)&&void 0!==n&&n.isNative))}}]}}),Object(s.a)(a.a)(c.a)),T=Object(o.a)(S.tagName);Object(i.a)(e,S.tagName,S)}).call(this,n(87)(e))},1949:function(e,t,n){},2090:function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"default",(function(){return se}));var r,i,o,s,a,c,l,u=n(447),f=n(1050),p=n(1942),d=n(1943),h=n(1452),m=n(1456),y=n(1023),v=n(1035),b=n(1047),g=n(1178),w=n(1033),k=n(16),O=n(46),_=n(1457),j=n(1146),E=n(57),P=n(1164),S=n(1180),T=n(1511),x=n(1293),R=n(1245),C=(n(1945),n(1948),n(1459),n(1461));n(1478),n(1480);function $(e){return($="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function D(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N(e,t){return(N=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=H(e);if(t){var i=H(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return I(this,n)}}function I(e,t){if(t&&("object"===$(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return B(e)}function B(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function M(){M=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){["method","field"].forEach((function(n){t.forEach((function(t){t.kind===n&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var n=e.prototype;["method","field"].forEach((function(r){t.forEach((function(t){var i=t.placement;if(t.kind===r&&("static"===i||"prototype"===i)){var o="static"===i?e:n;this.defineClassElement(o,t)}}),this)}),this)},defineClassElement:function(e,t){var n=t.descriptor;if("field"===t.kind){var r=t.initializer;n={enumerable:n.enumerable,writable:n.writable,configurable:n.configurable,value:void 0===r?void 0:r.call(e)}}Object.defineProperty(e,t.key,n)},decorateClass:function(e,t){var n=[],r=[],i={static:[],prototype:[],own:[]};if(e.forEach((function(e){this.addElementPlacement(e,i)}),this),e.forEach((function(e){if(!V(e))return n.push(e);var t=this.decorateElement(e,i);n.push(t.element),n.push.apply(n,t.extras),r.push.apply(r,t.finishers)}),this),!t)return{elements:n,finishers:r};var o=this.decorateConstructor(n,t);return r.push.apply(r,o.finishers),o.finishers=r,o},addElementPlacement:function(e,t,n){var r=t[e.placement];if(!n&&-1!==r.indexOf(e.key))throw new TypeError("Duplicated element ("+e.key+")");r.push(e.key)},decorateElement:function(e,t){for(var n=[],r=[],i=e.decorators,o=i.length-1;o>=0;o--){var s=t[e.placement];s.splice(s.indexOf(e.key),1);var a=this.fromElementDescriptor(e),c=this.toElementFinisherExtras((0,i[o])(a)||a);e=c.element,this.addElementPlacement(e,t),c.finisher&&r.push(c.finisher);var l=c.extras;if(l){for(var u=0;u<l.length;u++)this.addElementPlacement(l[u],t);n.push.apply(n,l)}}return{element:e,finishers:r,extras:n}},decorateConstructor:function(e,t){for(var n=[],r=t.length-1;r>=0;r--){var i=this.fromClassDescriptor(e),o=this.toClassDescriptor((0,t[r])(i)||i);if(void 0!==o.finisher&&n.push(o.finisher),void 0!==o.elements){e=o.elements;for(var s=0;s<e.length-1;s++)for(var a=s+1;a<e.length;a++)if(e[s].key===e[a].key&&e[s].placement===e[a].placement)throw new TypeError("Duplicated element ("+e[s].key+")")}}return{elements:e,finishers:n}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return Object.defineProperty(t,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return(t=e,function(e){if(Array.isArray(e))return e}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return Y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Y(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map((function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var n=W(e.key),r=String(e.placement);if("static"!==r&&"prototype"!==r&&"own"!==r)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+r+'"');var i=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var o={kind:t,key:n,placement:r,descriptor:Object.assign({},i)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(i,"get","The property descriptor of a field descriptor"),this.disallowProperty(i,"set","The property descriptor of a field descriptor"),this.disallowProperty(i,"value","The property descriptor of a field descriptor"),o.initializer=e.initializer),o},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:U(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:e.map(this.fromElementDescriptor,this)};return Object.defineProperty(t,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var n=U(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:n}},runClassFinishers:function(e,t){for(var n=0;n<t.length;n++){var r=(0,t[n])(e);if(void 0!==r){if("function"!=typeof r)throw new TypeError("Finishers must return a constructor.");e=r}}return e},disallowProperty:function(e,t,n){if(void 0!==e[t])throw new TypeError(n+" can't have a ."+t+" property.")}};return e}function L(e){var t,n=W(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var r={kind:"field"===e.kind?"field":"method",key:n,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(r.decorators=e.decorators),"field"===e.kind&&(r.initializer=e.value),r}function F(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function V(e){return e.decorators&&e.decorators.length}function q(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function U(e,t){var n=e[t];if(void 0!==n&&"function"!=typeof n)throw new TypeError("Expected '"+t+"' to be a function");return n}function W(e){var t=function(e,t){if("object"!==$(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==$(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===$(t)?t:String(t)}function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function X(e,t,n){return(X="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=H(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function H(e){return(H=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function K(e,t,n,r,i,o,s){try{var a=e[o](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,i)}function G(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function s(e){K(o,r,i,s,a,"next",e)}function a(e){K(o,r,i,s,a,"throw",e)}s(void 0)}))}}function Q(){var e=this,t=Object(v.b)(y.a.getState());t&&Backbone.ajax({url:"/presenter/".concat(t.id,"/participant_counter"),type:"POST",beforeSend:function(e){e.withCredentials=!0}}).always((function(){e.intervalId=setTimeout((function(){Q.call(e)}),3e5)}))}function Z(){return J.apply(this,arguments)}function J(){return(J=G(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.currentResponseView=new C.a;case 1:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}function ee(){var e,t,n,r,i=this,o=S.a.getCurrent(),s=new C.a,a=o.get("display_state"),c=null===(e=this.currentResponseView)||void 0===e||null===(t=e.responseView)||void 0===t||null===(n=t.model)||void 0===n?void 0:n.get("display_state");"leaderboard"===a&&"chart"===c||"leaderboard"===a&&"leaderboard"===c?(null===(r=this.currentResponseView)||void 0===r||r.responseView.listenTo(o,"change:display_state",(function(e,t){i.currentResponseView=s})),this.cachedView=s):this.currentResponseView=s}function te(){var e,t,n,r,i=this,o=S.a.getCurrent(),s=new C.a,a=o.get("display_state"),c=null===(e=this.currentResponseView)||void 0===e||null===(t=e.responseView)||void 0===t||null===(n=t.model)||void 0===n?void 0:n.get("display_state");"chart"===a&&"leaderboard"===c||"chart"===a&&"chart"===c?(null===(r=this.currentResponseView)||void 0===r||r.responseView.listenTo(o,"change:display_state",(function(e,t){i.currentResponseView=s})),this.cachedView=s):this.currentResponseView=s}function ne(){this.currentResponseView=new C.a}function re(){Q.call(this),Object(u.d)(this,"join_session",{screen_names_enabled:Object(P.a)(y.a.getState())})}function ie(){return oe.apply(this,arguments)}function oe(){return(oe=G(regeneratorRuntime.mark((function e(){var t,n,r,i,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.pinnedParticipantKey){e.next=4;break}return null===(t=this.pinnedResponseView)||void 0===t||null===(n=t.cleanup)||void 0===n||n.call(t),S.a.clearPinned(),e.abrupt("return");case 4:return e.prev=4,r=this.pinnedParticipantKey,e.next=8,Object(T.a)("discourse",this.pinnedParticipantKey);case 8:if(i=e.sent,r===this.pinnedParticipantKey){e.next=11;break}return e.abrupt("return");case 11:S.a.setPinned(i),e.next=22;break;case 14:if(e.prev=14,e.t0=e.catch(4),!(e.t0 instanceof x.a)){e.next=21;break}return e.next=19,y.a.dispatch(b.f.setPinnedActivityLockedRequiringRegistration({type:e.t0.activityType,participantKey:e.t0.activityKey}));case 19:e.next=22;break;case 21:throw e.t0;case 22:(o=new C.a).pinned=!0,this.pinnedResponseView=o;case 25:case"end":return e.stop()}}),e,this,[[4,14]])})))).apply(this,arguments)}var se=function(e,t,n,r){var i=M();if(r)for(var o=0;o<r.length;o++)i=r[o](i);var s=t((function(e){i.initializeInstanceElements(e,a.elements)}),n),a=i.decorateClass(function(e){for(var t=[],n=function(e){return"method"===e.kind&&e.key===o.key&&e.placement===o.placement},r=0;r<e.length;r++){var i,o=e[r];if("method"===o.kind&&(i=t.find(n)))if(q(o.descriptor)||q(i.descriptor)){if(V(o)||V(i))throw new ReferenceError("Duplicated methods ("+o.key+") can't be decorated.");i.descriptor=o.descriptor}else{if(V(o)){if(V(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+o.key+").");i.decorators=o.decorators}F(o,i)}else t.push(o)}return t}(s.d.map(L)),e);return i.initializeClassElements(s.F,a.elements),i.runClassFinishers(s.F,a.finishers)}(null,(function(e,t){var n=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&N(e,t)}(r,t);var n=z(r);function r(){var t;D(this,r);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return t=n.call.apply(n,[this].concat(o)),e(B(t)),t}return r}(t);return{F:n,d:[{kind:"field",static:!0,key:"tagName",value:function(){return"pec-response-live"}},{kind:"field",decorators:[Object(k.c)({type:Boolean})],key:"loaded",value:function(){return!1}},{kind:"field",decorators:[Object(k.c)({type:Boolean})],key:"outOfBandPending",value:function(){return!1}},{kind:"field",decorators:[Object(k.c)({type:String})],key:"registrationStatus",value:void 0},{kind:"field",decorators:[Object(k.c)({type:Boolean})],key:"needsUpgrade",value:void 0},{kind:"field",decorators:[Object(k.c)({type:Boolean})],key:"showPinned",value:void 0},{kind:"field",decorators:[Object(k.c)({type:Boolean})],key:"showScreenNameEdit",value:void 0},{kind:"field",decorators:[Object(k.c)({type:Boolean})],key:"isSurvey",value:void 0},{kind:"field",decorators:[Object(k.c)({type:String})],key:"pinnedParticipantKey",value:void 0},{kind:"field",decorators:[Object(k.c)({type:String})],key:"currentActivityType",value:void 0},{kind:"field",decorators:[Object(k.c)({type:String})],key:"currentActivityKey",value:void 0},{kind:"field",decorators:[Object(k.c)({type:Object})],key:"currentResponseView",value:void 0},{kind:"field",decorators:[Object(k.c)({type:Boolean})],key:"inCompetition",value:void 0},{kind:"field",decorators:[Object(k.c)({type:Object})],key:"pinnedResponseView",value:void 0},{kind:"method",key:"stateChanged",value:function(e){var t=Object(v.b)(e),n=Object(b.a)(e);this.loaded=!!t.login,this.registrationStatus=Object(g.c)(e),this.showPinned=Object(b.d)(e),this.showScreenNameEdit=e[b.f.name].showScreenNameEdit,this.outOfBandPending=e[b.f.name].outOfBandPending,this.pinnedParticipantKey=t.pinnedParticipantKey,this.currentActivityType=null==n?void 0:n.type,this.currentActivityKey=null==n?void 0:n.participantKey,this.inCompetition="competition"===(null==n?void 0:n.type)||(null==n?void 0:n.inCompetition)}},{kind:"method",key:"createRenderRoot",value:function(){return this}},{kind:"method",key:"connectedCallback",value:function(){X(H(n.prototype),"connectedCallback",this).call(this)}},{kind:"method",key:"disconnectedCallback",value:function(){var e,t,r,i;null===(e=this.presenterSession)||void 0===e||e.stop(),null===(t=this.cachedView)||void 0===t||null===(r=t.cleanup)||void 0===r||r.call(t),null===(i=this.querySelector("pec-response-activity"))||void 0===i||i.cleanup(),X(H(n.prototype),"disconnectedCallback",this).call(this)}},{kind:"method",key:"updated",value:function(e){var t=this;if(e.has("loaded")&&this.loaded&&(Object(h.a)()&&this.on("result",(function(){t.querySelector("pec-response-marketing").responded=!0})),this.presenterSession=new p.a,this.presenterSession.on("error",this.handleSessionError.bind(this)),this.presenterSession.start(),re.call(this),Object(R.b)()),e.has("registrationStatus")&&(this.registrationStatus!==g.a.UNPAID&&this.registrationStatus!==g.a.REQUIRED||Object(_.a)()),e.has("pinnedParticipantKey")&&ie.call(this),(e.has("currentActivityType")||e.has("currentActivityKey"))&&this.updateCurrentView(),e.has("currentResponseView")){var n,r,i,o;if(Object(f.a)(this),null===(n=e.get("currentResponseView"))||void 0===n||null===(r=n.cleanup)||void 0===r||r.call(n),this.currentResponseView!==this.cachedView)null===(i=this.cachedView)||void 0===i||null===(o=i.cleanup)||void 0===o||o.call(i),this.cachedView=null;this.showPinned||this.showScreenNameEdit||this.updateComplete.then((function(){var e;return null===(e=t.currentResponseView)||void 0===e?void 0:e.focus()}))}}},{kind:"method",key:"content",value:function(){return this.loaded?this.needsUpgrade?Object(k.b)(r||(r=A(["<pec-response-out-of-date-browser></pec-response-out-of-date-browser>"]))):this.outOfBandPending?j.a:this.registrationStatus===g.a.SUGGESTED?Object(_.c)():this.registrationStatus===g.a.CONTACT?Object(_.b)():Object(k.b)(i||(i=A(["\n      ",'\n      <pec-response-presenter-bar></pec-response-presenter-bar>\n      <div class="','">\n        ',"\n      </div>\n      ","\n    "])),Object(d.a)()?Object(k.b)(o||(o=A(["<pec-response-presenter-notes></pec-response-presenter-notes>"]))):"",ae("main",{survey:!this.showScreenNameEdit&&!this.showPinned&&this.isSurvey,competition:this.inCompetition,screenName:this.showScreenNameEdit}),this.showScreenNameEdit?Object(k.b)(s||(s=A(["<pec-response-screen-name></pec-response-screen-name>"]))):this.showPinned?this.pinnedResponseView:this.currentResponseView?this.currentResponseView:Object(k.b)(a||(a=A(["<pec-response-hold></pec-response-hold>"]))),Object(h.a)()?Object(k.b)(c||(c=A(["<pec-response-marketing></pec-response-marketing>"]))):""):Object(m.a)()}},{kind:"method",key:"render",value:function(){return Object(k.b)(l||(l=A(["\n      <layout-plain>\n        <main slot='content'>\n          ","\n        </main>\n      </layout-plain>\n    "])),this.content())}},{kind:"method",key:"updateCurrentView",value:function(){if(this.isSurvey="survey"===this.currentActivityType,this.currentActivityType)switch(this.currentActivityType){case"survey":return Z.call(this);case"competition":return ee.call(this);case"multiple_choice_poll":case"ranking_poll":case"clickable_image":case"free_text_poll":case"discourse":return this.inCompetition?te.call(this):ne.call(this);default:this.needsUpgrade=!0}else this.currentResponseView=void 0}},{kind:"method",key:"handleSessionError",value:function(e){if("unauthorized"===e.type)y.a.dispatch(b.f.toggleForceRegister(!0));else if("upgrade"===e.type)this.needsUpgrade=!0;else{if("fetch"!==e.type)throw e;var t,n;if(404===e.status)null===(n=window.Rollbar)||void 0===n||n.info("Cannot find current activity",e);else if(e.status&&0!==e.status){var r;null===(r=window.Rollbar)||void 0===r||r.warning("Cannot load current activity",e)}else Object(f.b)(this,{title:"Error loading current activity",content:"Please check your internet connection and try again",type:"error",action:"Reload page",onAction:function(){window.location.reload()}});null===(t=window.console)||void 0===t||t.error("Error loading current activity data",e)}}}]}}),Object(w.a)(y.a)(k.a)),ae=Object(E.a)("pec-response");Object(O.a)(e,se.tagName,se)}.call(this,n(87)(e))},491:function(e,t,n){var r,i;!function(o,s){"use strict";r=[n(846)],void 0===(i=function(e){return function(e,t){var n=e.jQuery,r=e.console;function i(e,t){for(var n in t)e[n]=t[n];return e}var o=Array.prototype.slice;function s(e){return Array.isArray(e)?e:"object"==typeof e&&"number"==typeof e.length?o.call(e):[e]}function a(e,t,o){if(!(this instanceof a))return new a(e,t,o);var c=e;"string"==typeof e&&(c=document.querySelectorAll(e)),c?(this.elements=s(c),this.options=i({},this.options),"function"==typeof t?o=t:i(this.options,t),o&&this.on("always",o),this.getImages(),n&&(this.jqDeferred=new n.Deferred),setTimeout(this.check.bind(this))):r.error("Bad element for imagesLoaded "+(c||e))}a.prototype=Object.create(t.prototype),a.prototype.options={},a.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)},a.prototype.addElementImages=function(e){"IMG"==e.nodeName&&this.addImage(e),!0===this.options.background&&this.addElementBackgroundImages(e);var t=e.nodeType;if(t&&c[t]){for(var n=e.querySelectorAll("img"),r=0;r<n.length;r++){var i=n[r];this.addImage(i)}if("string"==typeof this.options.background){var o=e.querySelectorAll(this.options.background);for(r=0;r<o.length;r++){var s=o[r];this.addElementBackgroundImages(s)}}}};var c={1:!0,9:!0,11:!0};function l(e){this.img=e}function u(e,t){this.url=e,this.element=t,this.img=new Image}return a.prototype.addElementBackgroundImages=function(e){var t=getComputedStyle(e);if(t)for(var n=/url\((['"])?(.*?)\1\)/gi,r=n.exec(t.backgroundImage);null!==r;){var i=r&&r[2];i&&this.addBackground(i,e),r=n.exec(t.backgroundImage)}},a.prototype.addImage=function(e){var t=new l(e);this.images.push(t)},a.prototype.addBackground=function(e,t){var n=new u(e,t);this.images.push(n)},a.prototype.check=function(){var e=this;function t(t,n,r){setTimeout((function(){e.progress(t,n,r)}))}this.progressedCount=0,this.hasAnyBroken=!1,this.images.length?this.images.forEach((function(e){e.once("progress",t),e.check()})):this.complete()},a.prototype.progress=function(e,t,n){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!e.isLoaded,this.emitEvent("progress",[this,e,t]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,e),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&r&&r.log("progress: "+n,e,t)},a.prototype.complete=function(){var e=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(e,[this]),this.emitEvent("always",[this]),this.jqDeferred){var t=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[t](this)}},l.prototype=Object.create(t.prototype),l.prototype.check=function(){this.getIsImageComplete()?this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.proxyImage.src=this.img.src)},l.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth},l.prototype.confirm=function(e,t){this.isLoaded=e,this.emitEvent("progress",[this,this.img,t])},l.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},l.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},l.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},l.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},u.prototype=Object.create(l.prototype),u.prototype.check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},u.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},u.prototype.confirm=function(e,t){this.isLoaded=e,this.emitEvent("progress",[this,this.element,t])},a.makeJQueryPlugin=function(t){(t=t||e.jQuery)&&((n=t).fn.imagesLoaded=function(e,t){return new a(this,e,t).jqDeferred.promise(n(this))})},a.makeJQueryPlugin(),a}(o,e)}.apply(t,r))||(e.exports=i)}("undefined"!=typeof window?window:this)},846:function(e,t,n){var r,i;"undefined"!=typeof window&&window,void 0===(i="function"==typeof(r=function(){"use strict";function e(){}var t=e.prototype;return t.on=function(e,t){if(e&&t){var n=this._events=this._events||{},r=n[e]=n[e]||[];return-1==r.indexOf(t)&&r.push(t),this}},t.once=function(e,t){if(e&&t){this.on(e,t);var n=this._onceEvents=this._onceEvents||{};return(n[e]=n[e]||{})[t]=!0,this}},t.off=function(e,t){var n=this._events&&this._events[e];if(n&&n.length){var r=n.indexOf(t);return-1!=r&&n.splice(r,1),this}},t.emitEvent=function(e,t){var n=this._events&&this._events[e];if(n&&n.length){n=n.slice(0),t=t||[];for(var r=this._onceEvents&&this._onceEvents[e],i=0;i<n.length;i++){var o=n[i];r&&r[o]&&(this.off(e,o),delete r[o]),o.apply(this,t)}return this}},t.allOff=function(){delete this._events,delete this._onceEvents},e})?r.call(t,n,t,e):r)||(e.exports=i)}}]);
//# sourceMappingURL=pollev-live-response.8b6292fe29064fc791b7.js.map